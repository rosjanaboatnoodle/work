<!doctype html>
<html lang="th" class="h-full">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>üìã‡πÄ‡∏ä‡πá‡∏Ñ‡∏™‡∏ï‡πá‡∏≠‡∏Ñ‡∏Å‡πã‡∏ß‡∏¢‡πÄ‡∏ï‡∏µ‡πã‡∏¢‡∏ß‡πÄ‡∏£‡∏∑‡∏≠</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="/_sdk/element_sdk.js"></script>
  <script src="/_sdk/data_sdk.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;500;600;700&amp;display=swap" rel="stylesheet">
  <style>
    body { box-sizing: border-box; }
    * { font-family: 'Sarabun', sans-serif; }
    input[type="number"]::-webkit-inner-spin-button,
    input[type="number"]::-webkit-outer-spin-button { -webkit-appearance: none; margin: 0; }
    input[type="number"] { -moz-appearance: textfield; }
    .fade-in { animation: fadeIn 0.3s ease-out; }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    .slide-in { animation: slideIn 0.3s ease-out; }
    @keyframes slideIn { from { opacity: 0; transform: translateX(-20px); } to { opacity: 1; transform: translateX(0); } }
    .lang-btn{
      width:36px;height:36px;display:flex;align-items:center;justify-content:center;border-radius:8px;
      font-size:12px;font-weight:500;cursor:pointer;transition:all 0.2s;border:2px solid transparent;
    }
    .lang-btn.active{ background-color:#ea580c;color:white;border-color:#ea580c; }
    .lang-btn:not(.active){ background-color:white;color:#ea580c;border-color:#f3f4f6; }
    .lang-selector{ display:flex;gap:4px;padding:6px;background:white;border-radius:10px;box-shadow:0 2px 8px rgba(0,0,0,0.1); }
    .trend-up{ color:#ef4444; } .trend-down{ color:#22c55e; } .trend-neutral{ color:#6b7280; }
    .qty-invalid{ border-color:#ef4444 !important; background: #fff1f2; }
  </style>
  <style>@view-transition { navigation: auto; }</style>
</head>

<body class="h-full bg-gradient-to-br from-orange-50 via-amber-50 to-yellow-50">
  <div id="app" class="h-full w-full overflow-auto">
    <!-- Language Selector -->
    <div class="fixed top-4 left-4 z-50 lang-selector">
      <button onclick="setLanguage('th')" class="lang-btn active" id="btn-th" title="‡πÑ‡∏ó‡∏¢">‡πÑ‡∏ó‡∏¢</button>
      <button onclick="setLanguage('lo')" class="lang-btn" id="btn-lo" title="‡∫•‡∫≤‡∫ß">‡∫•‡∫≤‡∫ß</button>
      <button onclick="setLanguage('my')" class="lang-btn" id="btn-my" title="·Äô·Äº·Äî·Ä∫·Äô·Ä¨">·Äô·Äº·Äî·Ä∫</button>
    </div>

    <!-- ‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å -->
    <div id="home-page" class="min-h-full p-4 md:p-6 pt-20">
      <div class="max-w-lg mx-auto">
        <!-- Header -->
        <div class="flex items-center justify-between mb-8">
          <div>
            <h1 id="shop-title" class="text-2xl md:text-3xl font-bold text-orange-800">üçú ‡∏Å‡πã‡∏ß‡∏¢‡πÄ‡∏ï‡∏µ‡πã‡∏¢‡∏ß‡πÄ‡∏£‡∏∑‡∏≠‡∏£‡∏™‡∏à‡∏ô‡∏≤</h1>
            <p id="txt-daily-check" class="text-orange-600 text-sm mt-1">‡πÄ‡∏ä‡πá‡∏Ñ‡∏™‡∏ï‡πá‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ß‡∏±‡∏ô</p>
          </div>
          <button onclick="showHistory()" class="flex items-center gap-2 bg-white px-4 py-2 rounded-xl shadow-md hover:shadow-lg transition-all text-orange-700 font-medium">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewbox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
            <span id="txt-history">‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥</span>
          </button>
        </div>

        <!-- ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà -->
        <div class="bg-white rounded-2xl p-4 shadow-md mb-6">
          <p id="txt-date2" class="text-gray-500 text-sm">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà</p>
          <p id="current-date" class="text-lg font-semibold text-gray-800"></p>
        </div>

        <!-- ‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà -->
        <div class="space-y-4">
          <button onclick="selectCategory('‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏£‡∏∑‡∏≠')" class="w-full bg-gradient-to-r from-orange-500 to-orange-600 text-white p-5 rounded-2xl shadow-lg hover:shadow-xl transition-all transform hover:scale-[1.02] active:scale-[0.98]">
            <div class="flex items-center gap-4">
              <div class="w-14 h-14 bg-white/20 rounded-xl flex items-center justify-center text-3xl">üö£</div>
              <div class="text-left">
                <p id="cat-boat" class="text-xl font-bold">‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏£‡∏∑‡∏≠</p>
                <p id="cat-boat-desc" class="text-orange-100 text-sm">‡πÄ‡∏ä‡πá‡∏Ñ‡∏™‡∏ï‡πá‡∏≠‡∏Å‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏£‡∏∑‡∏≠</p>
              </div>
              <svg class="w-6 h-6 ml-auto" fill="none" stroke="currentColor" viewbox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
              </svg>
            </div>
          </button>

          <button onclick="selectCategory('‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ï‡∏≤‡∏°‡∏™‡∏±‡πà‡∏á')" class="w-full bg-gradient-to-r from-emerald-500 to-emerald-600 text-white p-5 rounded-2xl shadow-lg hover:shadow-xl transition-all transform hover:scale-[1.02] active:scale-[0.98]">
            <div class="flex items-center gap-4">
              <div class="w-14 h-14 bg-white/20 rounded-xl flex items-center justify-center text-3xl">üç≥</div>
              <div class="text-left">
                <p id="cat-food" class="text-xl font-bold">‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ï‡∏≤‡∏°‡∏™‡∏±‡πà‡∏á</p>
                <p id="cat-food-desc" class="text-emerald-100 text-sm">‡πÄ‡∏ä‡πá‡∏Ñ‡∏™‡∏ï‡πá‡∏≠‡∏Å‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ï‡∏≤‡∏°‡∏™‡∏±‡πà‡∏á</p>
              </div>
              <svg class="w-6 h-6 ml-auto" fill="none" stroke="currentColor" viewbox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
              </svg>
            </div>
          </button>

          <button onclick="selectCategory('‡πÄ‡∏î‡πá‡∏Å‡πÄ‡∏™‡∏¥‡∏£‡πå‡∏ü')" class="w-full bg-gradient-to-r from-blue-500 to-blue-600 text-white p-5 rounded-2xl shadow-lg hover:shadow-xl transition-all transform hover:scale-[1.02] active:scale-[0.98]">
            <div class="flex items-center gap-4">
              <div class="w-14 h-14 bg-white/20 rounded-xl flex items-center justify-center text-3xl">üßë‚Äçüç≥</div>
              <div class="text-left">
                <p id="cat-staff" class="text-xl font-bold">‡πÄ‡∏î‡πá‡∏Å‡πÄ‡∏™‡∏¥‡∏£‡πå‡∏ü</p>
                <p id="cat-staff-desc" class="text-blue-100 text-sm">‡πÄ‡∏ä‡πá‡∏Ñ‡∏™‡∏ï‡πá‡∏≠‡∏Å‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡πÄ‡∏î‡πá‡∏Å‡πÄ‡∏™‡∏¥‡∏£‡πå‡∏ü</p>
              </div>
              <svg class="w-6 h-6 ml-auto" fill="none" stroke="currentColor" viewbox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
              </svg>
            </div>
          </button>
        </div>
      </div>
    </div>

    <!-- ‡∏´‡∏ô‡πâ‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠ -->
    <div id="name-page" class="min-h-full p-4 md:p-6 hidden">
      <div class="max-w-lg mx-auto fade-in">
        <button onclick="goHome()" class="flex items-center gap-2 text-orange-700 mb-6 hover:text-orange-800 transition-colors">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewbox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
          </svg>
          <span id="txt-back-home">‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</span>
        </button>

        <div class="bg-white rounded-2xl p-6 shadow-lg">
          <div id="category-badge" class="inline-flex items-center gap-2 px-4 py-2 rounded-full text-white text-sm font-medium mb-4"></div>
          <h2 id="txt-staff-name-title" class="text-xl font-bold text-gray-800 mb-2">‡∏ú‡∏π‡πâ‡πÄ‡∏ä‡πá‡∏Ñ‡∏™‡∏ï‡πá‡∏≠‡∏Å</h2>
          <p id="txt-staff-name-desc" class="text-gray-500 mb-6">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡πá‡∏Ñ‡∏™‡∏ï‡πá‡∏≠‡∏Å</p>
          <div class="space-y-4">
            <div>
              <label id="txt-full-name-label" class="block text-sm font-medium text-gray-700 mb-2">‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•</label>
              <input type="text" id="checker-name" placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì" class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-orange-500 focus:outline-none transition-colors text-lg">
            </div>
            <button onclick="startChecking()" id="btn-start-checking" class="w-full bg-orange-500 text-white py-4 rounded-xl font-semibold text-lg hover:bg-orange-600 transition-colors shadow-md hover:shadow-lg">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏ä‡πá‡∏Ñ‡∏™‡∏ï‡πá‡∏≠‡∏Å</button>
          </div>
        </div>
      </div>
    </div>

    <!-- ‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏ä‡πá‡∏Ñ‡∏™‡∏ï‡πá‡∏≠‡∏Å -->
    <div id="stock-page" class="min-h-full p-4 md:p-6 hidden">
      <div class="max-w-2xl mx-auto fade-in">
        <div class="flex items-center justify-between mb-6">
          <button onclick="goToNamePage()" class="flex items-center gap-2 text-orange-700 hover:text-orange-800 transition-colors">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewbox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
            </svg>
            <span id="txt-back">‡∏Å‡∏•‡∏±‡∏ö</span>
          </button>
          <div id="stock-category-badge" class="px-4 py-2 rounded-full text-white text-sm font-medium"></div>
        </div>

        <div class="bg-white rounded-2xl shadow-lg overflow-hidden">
          <div class="bg-gradient-to-r from-orange-500 to-orange-600 p-4 text-white">
            <p class="text-sm opacity-90"><span id="txt-staff-checker">‡∏ú‡∏π‡πâ‡πÄ‡∏ä‡πá‡∏Ñ‡∏™‡∏ï‡πá‡∏≠‡∏Å:</span> <span id="display-checker-name" class="font-semibold"></span></p>
            <p class="text-sm opacity-90"><span id="txt-date-label">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà:</span> <span id="display-date" class="font-semibold"></span></p>
          </div>

          <!-- ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏™‡∏ï‡πá‡∏≠‡∏Å -->
          <div class="overflow-x-auto">
            <table class="w-full">
              <thead class="bg-gray-50">
                <tr>
                  <th id="txt-item" class="px-4 py-3 text-left text-sm font-semibold text-gray-700">‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</th>
                  <th id="txt-quantity" class="px-4 py-3 text-center text-sm font-semibold text-gray-700 w-28">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô</th>
                  <th id="txt-unit" class="px-4 py-3 text-center text-sm font-semibold text-gray-700 w-20">‡∏´‡∏ô‡πà‡∏ß‡∏¢</th>
                  <th id="txt-note" class="px-4 py-3 text-left text-sm font-semibold text-gray-700">‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏</th>
                </tr>
              </thead>
              <tbody id="stock-table-body" class="divide-y divide-gray-100"></tbody>
            </table>
          </div>

          <div class="p-4 bg-gray-50">
            <button id="save-btn" onclick="saveStock()" class="w-full bg-gradient-to-r from-green-500 to-green-600 text-white py-4 rounded-xl font-semibold text-lg hover:from-green-600 hover:to-green-700 transition-all shadow-md hover:shadow-lg flex items-center justify-center gap-2">
              <svg class="w-6 h-6" fill="none" stroke="currentColor" viewbox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
              </svg>
              <span id="txt-save">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</span>
            </button>
            <p class="text-xs text-gray-500 mt-2">
              * ‡∏ä‡πà‡∏≠‡∏á ‚Äú‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‚Äù ‡πÉ‡∏™‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏â‡∏û‡∏≤‡∏∞ 0-9 ‡πÅ‡∏•‡∏∞‡∏™‡∏±‡∏ç‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå . / + -
            </p>
          </div>
        </div>
      </div>
    </div>

    <!-- ‡∏´‡∏ô‡πâ‡∏≤‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥ -->
    <div id="history-page" class="min-h-full p-4 md:p-6 hidden">
      <div class="max-w-2xl mx-auto fade-in">
        <button onclick="goHome()" class="flex items-center gap-2 text-orange-700 mb-6 hover:text-orange-800 transition-colors">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewbox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
          </svg>
          <span id="txt-back-home2">‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</span>
        </button>

        <h2 id="txt-history-title" class="text-2xl font-bold text-gray-800 mb-4">üìã ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡πá‡∏Ñ‡∏™‡∏ï‡πá‡∏≠‡∏Å</h2>

        <!-- ‡∏ï‡∏±‡∏ß‡∏Å‡∏£‡∏≠‡∏á -->
        <div class="bg-white rounded-2xl p-4 shadow-md mb-6">
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div>
              <label id="txt-select-date" class="block text-sm font-medium text-gray-700 mb-2">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà</label>
              <input type="date" id="filter-date" onchange="filterHistory()" class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-orange-500 focus:outline-none transition-colors">
            </div>
            <div>
              <label id="txt-category-label" class="block text-sm font-medium text-gray-700 mb-2">‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà</label>
              <select id="filter-category" onchange="filterHistory()" class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-orange-500 focus:outline-none transition-colors">
                <option value="" id="opt-all">‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</option>
                <option value="‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏£‡∏∑‡∏≠">‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏£‡∏∑‡∏≠</option>
                <option value="‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ï‡∏≤‡∏°‡∏™‡∏±‡πà‡∏á">‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ï‡∏≤‡∏°‡∏™‡∏±‡πà‡∏á</option>
                <option value="‡πÄ‡∏î‡πá‡∏Å‡πÄ‡∏™‡∏¥‡∏£‡πå‡∏ü">‡πÄ‡∏î‡πá‡∏Å‡πÄ‡∏™‡∏¥‡∏£‡πå‡∏ü</option>
              </select>
            </div>
          </div>
        </div>

        <!-- ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥ -->
        <div id="history-list" class="space-y-4"></div>
        <div id="no-history" class="hidden text-center py-12">
          <div class="text-6xl mb-4">üì≠</div>
          <p id="txt-no-history" class="text-gray-500">‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡πá‡∏Ñ‡∏™‡∏ï‡πá‡∏≠‡∏Å</p>
        </div>
      </div>
    </div>

    <!-- ‡∏´‡∏ô‡πâ‡∏≤‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥ -->
    <div id="history-detail-page" class="min-h-full p-4 md:p-6 hidden">
      <div class="max-w-2xl mx-auto fade-in">
        <button onclick="showHistory()" class="flex items-center gap-2 text-orange-700 mb-6 hover:text-orange-800 transition-colors">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewbox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
          </svg>
          <span id="txt-back-history">‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥</span>
        </button>
        <div id="history-detail-content" class="bg-white rounded-2xl shadow-lg overflow-hidden"></div>
      </div>
    </div>

    <!-- Toast notification -->
    <div id="toast" class="fixed bottom-4 left-1/2 transform -translate-x-1/2 bg-green-500 text-white px-6 py-3 rounded-xl shadow-lg hidden transition-all duration-300 flex items-center gap-2">
      <svg class="w-5 h-5" fill="none" stroke="currentColor" viewbox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
      </svg>
      <span id="toast-message">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!</span>
    </div>
  </div>

  <script>
    // =========================
    // ‚úÖ ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Google Sheet (Apps Script Web App)
    // =========================
    // 1) ‡∏™‡∏£‡πâ‡∏≤‡∏á Google Apps Script ‡πÄ‡∏õ‡πá‡∏ô Web App ‡πÅ‡∏•‡πâ‡∏ß‡πÉ‡∏™‡πà URL ‡∏•‡∏á‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á
    // 2) ‡πÉ‡∏´‡πâ Web App ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö:
    //    - POST: ‡∏£‡∏±‡∏ö record JSON ‡πÅ‡∏•‡πâ‡∏ß append ‡∏•‡∏á Sheet
    //    - GET : ‡∏Ñ‡∏∑‡∏ô records ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (‡∏´‡∏£‡∏∑‡∏≠‡∏ä‡πà‡∏ß‡∏á‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î) ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ó‡∏≥ real-time history
    //
    // ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á payload ‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡πÑ‡∏õ: { action:"append", record:{...} }
    //
    const GOOGLE_SHEET_WEBAPP_URL = "https://script.google.com/macros/s/AKfycbxcyVjugKR0hKo9wQCxGF-FbZJj84G-m1wEDfCnmMIE8qBINkLqZlXtLmgG-wJCfhWj2w/exec";
    const SHEET_POLL_MS = 10000; // 10 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ

    // ‡∏†‡∏≤‡∏©‡∏≤‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤
    let currentLanguage = 'th';

    const translations = {
      th: {
        stockCheck: '‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏ä‡πá‡∏Ñ‡∏™‡∏ï‡πá‡∏≠‡∏Å',
        dailyCheck: '‡πÄ‡∏ä‡πá‡∏Ñ‡∏™‡∏ï‡πá‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ß‡∏±‡∏ô',
        history: '‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥',
        boatFront: '‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏£‡∏∑‡∏≠',
        boatFrontDesc: '‡πÄ‡∏ä‡πá‡∏Ñ‡∏™‡∏ï‡πá‡∏≠‡∏Å‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏£‡∏∑‡∏≠',
        customFood: '‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ï‡∏≤‡∏°‡∏™‡∏±‡πà‡∏á',
        customFoodDesc: '‡πÄ‡∏ä‡πá‡∏Ñ‡∏™‡∏ï‡πá‡∏≠‡∏Å‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ï‡∏≤‡∏°‡∏™‡∏±‡πà‡∏á',
        staffChild: '‡πÄ‡∏î‡πá‡∏Å‡πÄ‡∏™‡∏¥‡∏£‡πå‡∏ü',
        staffChildDesc: '‡πÄ‡∏ä‡πá‡∏Ñ‡∏™‡∏ï‡πá‡∏≠‡∏Å‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡πÄ‡∏î‡πá‡∏Å‡πÄ‡∏™‡∏¥‡∏£‡πå‡∏ü',
        backHome: '‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å',
        staffName: '‡∏ú‡∏π‡πâ‡πÄ‡∏ä‡πá‡∏Ñ‡∏™‡∏ï‡πá‡∏≠‡∏Å',
        enterName: '‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡πá‡∏Ñ‡∏™‡∏ï‡πá‡∏≠‡∏Å',
        fullName: '‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•',
        startChecking: '‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏ä‡πá‡∏Ñ‡∏™‡∏ï‡πá‡∏≠‡∏Å',
        item: '‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£',
        quantity: '‡∏à‡∏≥‡∏ô‡∏ß‡∏ô',
        unit: '‡∏´‡∏ô‡πà‡∏ß‡∏¢',
        note: '‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏',
        save: '‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•',
        historyTitle: '‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡πá‡∏Ñ‡∏™‡∏ï‡πá‡∏≠‡∏Å',
        selectDate: '‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà',
        category: '‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà',
        all: '‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î',
        staffChecker: '‡∏ú‡∏π‡πâ‡πÄ‡∏ä‡πá‡∏Ñ‡∏™‡∏ï‡πá‡∏≠‡∏Å:',
        date: '‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà:',
        noHistory: '‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡πá‡∏Ñ‡∏™‡∏ï‡πá‡∏≠‡∏Å',
        saved: '‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!',
        error: '‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà',
        fullLimit: '‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÑ‡∏î‡πâ ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏ï‡πá‡∏°‡πÅ‡∏•‡πâ‡∏ß (‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î 999 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£)',
        enterName2: '‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠',
        date2: '‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà',
        back: '‡∏Å‡∏•‡∏±‡∏ö',
        backHistory: '‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥',
        compared: '‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏Å‡∏±‡∏ö',
        increased: '‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡∏∂‡πâ‡∏ô',
        decreased: '‡∏•‡∏î‡∏•‡∏á',
        noChange: '‡πÑ‡∏°‡πà‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á',
        noPrevious: '‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏≠‡∏ö‡∏Å‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤',
        invalidQty: '‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á (‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: 10, 10.5, -2, 1/2)'
      },
      lo: {
        stockCheck: '‡∫•‡∫∞‡∫ö‡∫ª‡∫ö‡∫Å‡∫ß‡∫î‡∫™‡∫≠‡∫ö‡∫™‡∫∞ ‡ªù‡∫≤‡∫î',
        dailyCheck: '‡∫Å‡∫ß‡∫î‡∫™‡∫≠‡∫ö‡∫™‡∫∞ ‡ªù‡∫≤‡∫î‡∫õ‡∫∞‡∫à‡ªç‡∫≤‡∫ß‡∫±‡∫ô',
        history: '‡∫õ‡∫∞‡∫´‡∫ß‡∫±‡∫î',
        boatFront: '‡∫î‡ªâ‡∫≤‡∫ô‡ªú‡ªâ‡∫≤‡∫Ç‡∫≠‡∫á‡ªÄ‡∫Æ‡∫∑‡∫≠',
        boatFrontDesc: '‡∫Å‡∫ß‡∫î‡∫™‡∫≠‡∫ö‡∫ß‡∫±‡∫î‡∫ñ‡∫∏‡∫î‡∫¥‡∫ö‡∫ó‡∫µ‡ªà‡∫´‡∫≤‡∫Å‡ªç‡∫≤‡∫´‡∫ô‡∫ª‡∫î‡ªÑ‡∫ß‡ªâ‡ªÉ‡∫ô‡∫î‡ªâ‡∫≤‡∫ô‡ªú‡ªâ‡∫≤‡ªÄ‡∫Æ‡∫∑‡∫≠',
        customFood: '‡∫≠‡∫≤‡∫´‡∫≤‡∫ô‡∫ó‡∫µ‡ªà‡∫™‡∫±‡ªà‡∫á‡∫Ç‡ªç',
        customFoodDesc: '‡∫Å‡∫ß‡∫î‡∫™‡∫≠‡∫ö‡∫ß‡∫±‡∫î‡∫ñ‡∫∏‡∫î‡∫¥‡∫ö‡∫™‡ªç‡∫≤‡∫•‡∫±‡∫ö‡∫≠‡∫≤‡∫´‡∫≤‡∫ô‡∫ó‡∫µ‡ªà‡∫™‡∫±‡ªà‡∫á‡∫Ç‡ªç',
        staffChild: '‡ªÄ‡∫î‡∫±‡∫Å‡ªÉ‡∫ä‡ªâ‡∫ö‡ªç‡∫•‡∫¥‡∫Å‡∫≤‡∫ô',
        staffChildDesc: '‡∫Å‡∫ß‡∫î‡∫™‡∫≠‡∫ö‡∫≠‡∫∏‡∫õ‡∫∞‡∫Å‡∫≠‡∫ô‡∫Ç‡∫≠‡∫á‡ªÄ‡∫î‡∫±‡∫Å‡ªÉ‡∫ä‡ªâ‡∫ö‡ªç‡∫•‡∫¥‡∫Å‡∫≤‡∫ô',
        backHome: '‡∫Å‡∫±‡∫ö‡∫´‡∫ô‡ªâ‡∫≤‡∫´‡∫º‡∫±‡∫Å',
        staffName: '‡∫ú‡∫π‡ªâ‡∫Å‡∫ß‡∫î‡∫™‡∫≠‡∫ö‡∫™‡∫∞ ‡ªù‡∫≤‡∫î',
        enterName: '‡∫Å‡∫∞‡∫•‡∫∏‡∫ô‡∫≤‡ªÉ‡∫™‡ªà‡∫ä‡∫∑‡ªà‡∫Ç‡∫≠‡∫á‡∫ú‡∫π‡ªâ‡∫Å‡∫ß‡∫î‡∫™‡∫≠‡∫ö‡∫™‡∫∞ ‡ªù‡∫≤‡∫î',
        fullName: '‡∫ä‡∫∑‡ªà‡ªÅ‡∫•‡∫∞‡∫™‡∫∞ ‡ªù‡∫≤‡∫∏‡∫ô',
        startChecking: '‡ªÄ‡∫•‡∫µ‡ªà‡∫°‡∫Å‡∫ß‡∫î‡∫™‡∫≠‡∫ö‡∫™‡∫∞ ‡ªù‡∫≤‡∫î',
        item: '‡∫•‡∫≤‡∫ç‡∫Å‡∫≤‡∫ô',
        quantity: '‡∫à‡ªç‡∫≤‡∫ô‡∫ß‡∫ô',
        unit: '‡∫´‡∫ª‡∫ß‡ªú‡ªà‡∫ß‡∫ç',
        note: '‡∫´‡∫°‡∫≤‡∫ç‡ªÄ‡∫´‡∫î',
        save: '‡∫ö‡∫±‡∫ô‡∫ó‡∫∂‡∫Å‡∫Ç‡ªç‡ªâ‡∫°‡∫π‡∫ô',
        historyTitle: '‡∫õ‡∫∞‡∫´‡∫ß‡∫±‡∫î‡∫Å‡∫≤‡∫ô‡∫Å‡∫ß‡∫î‡∫™‡∫≠‡∫ö‡∫™‡∫∞ ‡ªù‡∫≤‡∫î',
        selectDate: '‡ªÄ‡∫•‡∫∑‡∫≠‡∫Å‡∫ß‡∫±‡∫ô‡∫ó‡∫µ‡ªà',
        category: '‡ªù‡∫ß‡∫î‡ªù‡∫π‡ªà',
        all: '‡∫ó‡∫±‡∫á‡ªù‡∫ª‡∫î',
        staffChecker: '‡∫ú‡∫π‡ªâ‡∫Å‡∫ß‡∫î‡∫™‡∫≠‡∫ö‡∫™‡∫∞ ‡ªù‡∫≤‡∫î:',
        date: '‡∫ß‡∫±‡∫ô‡∫ó‡∫µ‡ªà:',
        noHistory: '‡∫ö‡ªç‡ªà‡∫û‡∫ª‡∫ö‡∫õ‡∫∞‡∫´‡∫ß‡∫±‡∫î‡∫Å‡∫≤‡∫ô‡∫Å‡∫ß‡∫î‡∫™‡∫≠‡∫ö‡∫™‡∫∞ ‡ªù‡∫≤‡∫î',
        saved: '‡∫ö‡∫±‡∫ô‡∫ó‡∫∂‡∫Å‡∫Ç‡ªç‡ªâ‡∫°‡∫π‡∫ô‡∫™‡ªç‡∫≤‡ªÄ‡∫•‡∫±‡∫î!',
        error: '‡ªÄ‡∫Å‡∫µ‡∫î‡∫Ç‡ªç‡ªâ‡∫ú‡∫¥‡∫î‡∫û‡∫≤‡∫î ‡∫Å‡∫∞‡∫•‡∫∏‡∫ô‡∫≤‡∫•‡∫≠‡∫á‡ªÉ‡ªù‡ªà',
        fullLimit: '‡∫ö‡ªç‡ªà‡∫™‡∫≤‡∫°‡∫≤‡∫î‡∫ö‡∫±‡∫ô‡∫ó‡∫∂‡∫Å‡ªÑ‡∫î‡ªâ ‡∫Ç‡ªç‡ªâ‡∫°‡∫π‡∫ô‡ªÄ‡∫ï‡∫±‡∫°‡ªÅ‡∫•‡ªâ‡∫ß (‡∫™‡∫π‡∫á‡∫™‡∫∏‡∫î 999 ‡∫•‡∫≤‡∫ç‡∫Å‡∫≤‡∫ô)',
        enterName2: '‡∫Å‡∫∞‡∫•‡∫∏‡∫ô‡∫≤‡ªÉ‡∫™‡ªà‡∫ä‡∫∑‡ªà',
        date2: '‡∫ß‡∫±‡∫ô‡∫ó‡∫µ‡ªà',
        back: '‡∫Å‡∫±‡∫ö',
        backHistory: '‡∫Å‡∫±‡∫ö‡∫´‡∫ô‡ªâ‡∫≤‡∫õ‡∫∞‡∫´‡∫ß‡∫±‡∫î',
        compared: '‡∫ï‡∫Ω‡∫ö‡∫ó‡∫Ω‡∫ö‡∫Å‡∫±‡∫ö',
        increased: '‡ªÄ‡∫û‡∫µ‡ªà‡∫°‡∫Ç‡∫∂‡ªâ‡∫ô',
        decreased: '‡∫´‡∫º‡∫∏‡∫î‡∫•‡∫ª‡∫á',
        noChange: '‡∫ö‡ªç‡ªà‡∫°‡∫µ‡∫Å‡∫≤‡∫ô‡∫õ‡ªà‡∫Ω‡∫ô‡ªÅ‡∫õ‡∫á',
        noPrevious: '‡∫ö‡ªç‡ªà‡∫°‡∫µ‡∫Æ‡∫≠‡∫ö‡∫Å‡ªà‡∫≠‡∫ô‡ªú‡ªâ‡∫≤',
        invalidQty: '‡∫Æ‡∫π‡∫ö‡ªÅ‡∫ö‡∫ö‡∫à‡ªç‡∫≤‡∫ô‡∫ß‡∫ô‡∫ö‡ªç‡ªà‡∫ñ‡∫∑‡∫Å‡∫ï‡ªâ‡∫≠‡∫á'
      },
      my: {
        stockCheck: '·ÄÖ·Äê·ÄØ·Ä∂·Ä∏·Äê·Ää·Ä∫·ÄÜ·Ä±·Ä¨·ÄÄ·Ä∫·ÄÅ·Äº·ÄÑ·Ä∫·Ä∏·ÄÖ·Äî·ÄÖ·Ä∫',
        dailyCheck: '·Äî·Ä±·Ä∑·ÄÖ·Äâ·Ä∫·ÄÖ·Äê·ÄØ·Ä∂·Ä∏·Äê·Ää·Ä∫·ÄÜ·Ä±·Ä¨·ÄÄ·Ä∫·ÄÅ·Äº·ÄÑ·Ä∫·Ä∏',
        history: '·Äõ·Ä¨·Äá·ÅÄ·Äê·Ä∫·Äô·Äæ·Äê·Ä∫·Äê·Äô·Ä∫·Ä∏',
        boatFront: '·Äú·Äæ·Ä±·Ä°·Äõ·Äæ·Ä±·Ä∑·Äñ·ÄÄ·Ä∫',
        boatFrontDesc: '·Äú·Äæ·Ä±·Ä°·Äõ·Äæ·Ä±·Ä∑·Äñ·ÄÄ·Ä∫·Äõ·Äæ·Ä≠·Äê·ÄÑ·Ä∑·Äû·ÄΩ·ÄÑ·Ä∫·Ä∏·ÄÅ·Ä≤·Ä∑·Äû·Ä±·Ä¨·Äï·ÄÖ·Äπ·ÄÖ·Ää·Ä∫·Ä∏·Äô·Äª·Ä¨·Ä∏·ÄÄ·Ä≠·ÄØ·ÄÖ·ÄÆ·ÄÖ·ÄÖ·Ä∫·ÄÅ·Äº·ÄÑ·Ä∫·Ä∏',
        customFood: '·Ä°·Äô·Äæ·Ä¨·ÄÖ·Ä¨·Ä°·ÄÖ·Ä¨·Ä∏·Ä°·Äû·Ä±·Ä¨·ÄÄ·Ä∫',
        customFoodDesc: '·Ä°·Äô·Äæ·Ä¨·ÄÖ·Ä¨·Ä°·ÄÖ·Ä¨·Ä∏·Ä°·Äû·Ä±·Ä¨·ÄÄ·Ä∫·Äî·Äæ·ÄÑ·Ä∑·Ä∫·ÄÜ·Ä≠·ÄØ·ÄÑ·Ä∫·Äõ·Ä¨·Äï·ÄÖ·Äπ·ÄÖ·Ää·Ä∫·Ä∏·Äô·Äª·Ä¨·Ä∏·ÄÄ·Ä≠·ÄØ·ÄÖ·ÄÆ·ÄÖ·ÄÖ·Ä∫·ÄÅ·Äº·ÄÑ·Ä∫·Ä∏',
        staffChild: '·ÄÄ·Äú·Ä±·Ä∏·Äò·Ä±·Ä¨·ÄÑ·Ä∫·Äô·Äª·Ä¨·Ä∏',
        staffChildDesc: '·ÄÄ·Äú·Ä±·Ä∏·Äò·Ä±·Ä¨·ÄÑ·Ä∫·Äô·Äª·Ä¨·Ä∏·Ä°·Äê·ÄΩ·ÄÄ·Ä∫·ÄÄ·Ä≠·Äõ·Ä≠·Äö·Ä¨·Äô·Äª·Ä¨·Ä∏·ÄÄ·Ä≠·ÄØ·ÄÖ·ÄÆ·ÄÖ·ÄÖ·Ä∫·ÄÅ·Äº·ÄÑ·Ä∫·Ä∏',
        backHome: '·Ä°·Äì·Ä≠·ÄÄ·ÄÖ·Ä¨·Äô·Äª·ÄÄ·Ä∫·Äî·Äæ·Ä¨·Äû·Ä≠·ÄØ·Ä∑·Äï·Äº·Äî·Ä∫·Äû·ÄΩ·Ä¨·Ä∏·ÄÅ·Äº·ÄÑ·Ä∫·Ä∏',
        staffName: '·ÄÖ·ÄÆ·ÄÖ·ÄÖ·Ä∫·Äû·Ä∞',
        enterName: '·ÄÖ·Äê·ÄØ·Ä∂·Ä∏·ÄÖ·ÄÆ·ÄÖ·ÄÖ·Ä∫·Äû·Ä∞·Åè·Ä°·Äô·Ää·Ä∫·ÄÄ·Ä≠·ÄØ·Äë·Ää·Ä∑·Ä∫·Äû·ÄΩ·ÄÑ·Ä∫·Ä∏·Äï·Ä´',
        fullName: '·Ä°·Äô·Ää·Ä∫-·Ä°·ÄÄ·Äª·Ä°·Ä≠·ÄØ·Ä∏',
        startChecking: '·ÄÖ·Äê·ÄØ·Ä∂·Ä∏·ÄÖ·ÄÆ·ÄÖ·Ä∑·ÄÅ·Äº·ÄÑ·Ä∫·Ä∏·ÄÖ·Äê·ÄÑ·Ä∫·ÄÅ·Äº·ÄÑ·Ä∫·Ä∏',
        item: '·Äï·ÄÖ·Äπ·ÄÖ·Ää·Ä∫·Ä∏',
        quantity: '·Ä°·Äõ·Ä±·Ä∑·Äê·ÄΩ·ÄÄ·Ä∫',
        unit: '·Äö·Ä∞·Äî·ÄÖ·Ä∫',
        note: '·Äô·Äæ·Äê·Ä∫·ÄÅ·Äª·ÄÄ·Ä∫',
        save: '·Äô·Äæ·Äê·Ä∫·ÄÅ·Äª·ÄÄ·Ä∫·Ä°·Äú·ÄÄ·Ä∫·Äû·Ä≠·ÄØ·Ä∏·ÄÜ·Ää·Ä∫·Ä∏·ÄÅ·Äº·ÄÑ·Ä∫·Ä∏',
        historyTitle: '·ÄÖ·Äê·ÄØ·Ä∂·Ä∏·ÄÖ·ÄÆ·ÄÖ·ÄÖ·Ä∫·Äô·Äæ·ÄØ·Äô·Äæ·Äê·Ä∫·Äê·Äô·Ä∫·Ä∏',
        selectDate: '·Äõ·ÄÄ·Ä∫·ÄÖ·ÄΩ·Ä≤·Äõ·ÄΩ·Ä±·Ä∏·ÄÅ·Äª·Äö·Ä∫·ÄÅ·Äº·ÄÑ·Ä∫·Ä∏',
        category: '·Ä°·Äô·Äª·Ä≠·ÄØ·Ä∏·Ä°·ÄÖ·Ä¨·Ä∏',
        all: '·Ä°·Ä¨·Ä∏·Äú·ÄØ·Ä∂·Ä∏',
        staffChecker: '·ÄÖ·ÄÆ·ÄÖ·ÄÖ·Ä∫·Äû·Ä∞:',
        date: '·Äõ·ÄÄ·Ä∫·ÄÖ·ÄΩ·Ä≤:',
        noHistory: '·ÄÖ·Äê·ÄØ·Ä∂·Ä∏·ÄÖ·ÄÆ·ÄÖ·ÄÖ·Ä∫·Äô·Äæ·ÄØ·Äô·Äæ·Äê·Ä∫·Äê·Äô·Ä∫·Ä∏·Äô·Äê·Ää·Ä∫·Äõ·Äæ·Ä≠',
        saved: '·Ä°·ÄÅ·Äª·ÄÄ·Ä∫·Ä°·Äú·ÄÄ·Ä∫·Äû·Ä≠·Äô·Ä∫·Ä∏·ÄÜ·Ää·Ä∫·Ä∏·ÄÅ·Äº·ÄÑ·Ä∫·Ä∏·Ä°·Ä±·Ä¨·ÄÑ·Ä∫·Äô·Äº·ÄÑ·Ä∫·Äû·Ää·Ä∫!',
        error: '·Ä°·Äô·Äæ·Ä¨·Ä∏·Ä°·Äö·ÄΩ·ÄÑ·Ä∫·Ä∏·Äê·ÄÖ·Ä∫·ÄÅ·ÄØ·Äñ·Äº·ÄÖ·Ä∫·Äï·ÄΩ·Ä¨·Ä∏·ÄÅ·Ä≤·Ä∑·Äû·Ää·Ä∫ ·Äë·Äï·Ä∫·Äô·Ä∂·ÄÄ·Äº·Ä≠·ÄØ·Ä∏·ÄÖ·Ä¨·Ä∏·Äï·Ä´',
        fullLimit: '·Äû·Ä≠·Äô·Ä∑·ÄØ·Ä∂·Ä∏·ÄÜ·Ää·Ä∫·Ä∏·Äô·Ä∑ ·Ä°·ÄÅ·Äª·ÄÄ·Ä∫·Ä°·Äú·ÄÄ·Ä∫·Äï·Äº·Ää·Ä∑·Ä∫·Äû·ÄΩ·Ä¨·Ä∑·Äû·Ää·Ä∫ (·Ä°·Äô·Äª·Ä¨·Ä∏·ÄÜ·ÄØ·Ä∂·Ä∏ ·Åâ·Åâ·Åâ ·Äï·ÄÖ·Äπ·ÄÖ·Ää·Ä∫·Ä∏)',
        enterName2: '·Ä°·Äô·Ää·Ä∫·Äë·Ää·Ä∑·Ä∫·Äû·ÄΩ·ÄÑ·Ä∫·Ä∏·Äï·Ä´',
        date2: '·Äõ·ÄÄ·Ä∫·ÄÖ·ÄΩ·Ä≤',
        back: '·Äï·Äº·Äî·Ä∫·Äû·ÄΩ·Ä¨·Ä∏·ÄÅ·Äº·ÄÑ·Ä∫·Ä∏',
        backHistory: '·Äõ·Ä¨·Äá·ÅÄ·Äê·Ä∫·Äô·Äæ·Äê·Ä∫·Äê·Äô·Ä∫·Ä∏·ÄÖ·Ä¨·Äô·Äª·ÄÄ·Ä∫·Äî·Äæ·Ä¨·Äû·Ä≠·ÄØ·Ä∑·Äï·Äº·Äî·Ä∫·Äû·ÄΩ·Ä¨·Ä∏·ÄÅ·Äº·ÄÑ·Ä∫·Ä∏',
        compared: '·Äî·Äæ·ÄÑ·Ä∑·Ä∫·Äî·Äæ·Ä≠·ÄØ·ÄÑ·Ä∫·Ä∏·Äö·Äæ·Äâ·Ä∫·ÄÅ·Äº·ÄÑ·Ä∫·Ä∏',
        increased: '·Äê·Ä≠·ÄØ·Ä∏·Äô·Äº·ÄÑ·Ä∑·Ä∫·Äú·Ä¨·Äû·Ää·Ä∫',
        decreased: '·Äú·Äª·Ä±·Ä¨·Ä∑·ÄÄ·Äª·Äû·Ää·Ä∫',
        noChange: '·Äï·Äº·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏·Äú·Ä≤·Äô·Äæ·ÄØ·Äô·Äõ·Äæ·Ä≠·Äû·Ää·Ä∫',
        noPrevious: '·Ä°·Äõ·Äæ·Ä≠·ÄØ·ÄÑ·Ä∫·Ä∏·Äõ·Äæ·Ä≠·Äû·Ää·Ä∑·Ä∫·Äú·Ää·Ä∫·Ä°·Äõ·Äæ·Ä≠·ÄØ·ÄÑ·Ä∫·Ä∏',
        invalidQty: '·Äï·Äô·Ä¨·Äè·Äï·ÄØ·Ä∂·ÄÖ·Ä∂·Äô·Äô·Äæ·Äî·Ä∫·Äï·Ä´'
      }
    };

    // ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏ï‡πá‡∏≠‡∏Å
    const stockItems = {
      '‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏£‡∏∑‡∏≠': [
        { name: '‡πÄ‡∏™‡πâ‡∏ô‡πÄ‡∏•‡πá‡∏Å', unit: '‡∏Å‡∏£‡∏±‡∏°' }, { name: '‡πÄ‡∏™‡πâ‡∏ô‡πÉ‡∏´‡∏ç‡πà', unit: '‡∏Å‡∏£‡∏±‡∏°' }, { name: '‡πÄ‡∏™‡πâ‡∏ô‡∏´‡∏°‡∏µ‡πà‡∏Ç‡∏≤‡∏ß', unit: '‡∏Å‡∏£‡∏±‡∏°' },
        { name: '‡∏ö‡∏∞‡∏´‡∏°‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á', unit: '‡∏Å‡∏£‡∏±‡∏°' }, { name: '‡∏ß‡∏∏‡πâ‡∏ô‡πÄ‡∏™‡πâ‡∏ô', unit: '‡∏Å‡∏£‡∏±‡∏°' }, { name: '‡∏°‡∏≤‡∏°‡πà‡∏≤', unit: '‡∏Å‡∏£‡∏±‡∏°' },
        { name: '‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏™‡∏î', unit: '‡∏Å‡∏£‡∏±‡∏°' }, { name: '‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡πÄ‡∏õ‡∏∑‡πà‡∏≠‡∏¢', unit: '‡∏Å‡∏£‡∏±‡∏°' }, { name: '‡∏ï‡∏±‡∏ö‡∏ß‡∏±‡∏ß', unit: '‡∏Å‡∏£‡∏±‡∏°' },
        { name: '‡πÄ‡∏•‡∏∑‡∏≠‡∏î‡∏ß‡∏±‡∏ß', unit: '‡∏Å‡∏£‡∏±‡∏°' }, { name: '‡∏•‡∏π‡∏Å‡∏ä‡∏¥‡πâ‡∏ô‡πÄ‡∏ô‡∏∑‡πâ‡∏≠', unit: '‡∏Å‡∏£‡∏±‡∏°' }, { name: '‡∏´‡∏°‡∏π‡∏™‡∏î', unit: '‡∏Å‡∏£‡∏±‡∏°' },
        { name: '‡∏´‡∏°‡∏π‡πÄ‡∏õ‡∏∑‡πà‡∏≠‡∏¢', unit: '‡∏Å‡∏£‡∏±‡∏°' }, { name: '‡∏ï‡∏±‡∏ö‡∏´‡∏°‡∏π', unit: '‡∏Å‡∏£‡∏±‡∏°' }, { name: '‡πÄ‡∏•‡∏∑‡∏≠‡∏î‡∏´‡∏°‡∏π', unit: '‡∏Å‡∏£‡∏±‡∏°' },
        { name: '‡∏•‡∏π‡∏Å‡∏ä‡∏¥‡πâ‡∏ô‡∏´‡∏°‡∏π', unit: '‡∏Å‡∏£‡∏±‡∏°' }, { name: '‡∏´‡∏±‡∏ß‡∏ô‡πâ‡∏≥‡πÄ‡∏ä‡∏∑‡πâ‡∏≠‡πÄ‡∏ô‡∏∑‡πâ‡∏≠', unit: '‡πÇ‡∏´‡∏•' }, { name: '‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏ó‡∏®‡πÄ‡∏ô‡∏∑‡πâ‡∏≠', unit: '‡πÇ‡∏´‡∏•' },
        { name: '‡∏´‡∏±‡∏ß‡∏ô‡πâ‡∏≥‡πÄ‡∏ä‡∏∑‡πâ‡∏≠‡∏´‡∏°‡∏π', unit: '‡πÇ‡∏´‡∏•' }, { name: '‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏ó‡∏®‡∏´‡∏°‡∏π', unit: '‡πÇ‡∏´‡∏•' }, { name: '‡∏ô‡πâ‡∏≥‡∏õ‡∏£‡∏∏‡∏á‡∏Å‡πã‡∏ß‡∏¢‡πÄ‡∏ï‡∏µ‡πã‡∏¢‡∏ß', unit: '‡πÇ‡∏´‡∏•' },
        { name: '‡∏ú‡∏±‡∏Å‡∏ö‡∏∏‡πâ‡∏á (‡∏ï‡∏±‡∏î‡πÅ‡∏•‡πâ‡∏ß)', unit: '‡∏Å‡∏£‡∏±‡∏°' }, { name: '‡∏ñ‡∏±‡πà‡∏ß‡∏Ñ‡∏±‡πà‡∏ß', unit: '‡∏Å‡∏£‡∏±‡∏°' }, { name: '‡∏ô‡πâ‡∏≥‡∏õ‡∏•‡∏≤', unit: '‡πÅ‡∏Å‡∏ô‡∏•‡∏≠‡∏ô' },
        { name: '‡∏û‡∏£‡∏¥‡∏Å‡∏ô‡πâ‡∏≥‡∏™‡πâ‡∏°', unit: '‡πÇ‡∏´‡∏•' }, { name: '‡∏û‡∏£‡∏¥‡∏Å‡∏Ñ‡∏±‡πà‡∏ß', unit: '‡∏ñ‡∏±‡∏á' }, { name: '‡∏ã‡∏µ‡∏≠‡∏¥‡πä‡∏ß‡∏î‡∏≥', unit: '‡∏Ç‡∏ß‡∏î' },
        { name: '‡∏ñ‡∏±‡πà‡∏ß‡∏á‡∏≠‡∏Å', unit: '‡∏Å‡∏£‡∏±‡∏°' }, { name: '‡∏ñ‡∏±‡πà‡∏ß‡∏•‡∏¥‡∏™‡∏á‡∏î‡∏¥‡∏ö', unit: '‡∏ñ‡∏∏‡∏á' }, { name: '‡∏ñ‡πâ‡∏ß‡∏¢‡πÉ‡∏™‡πà‡∏ô‡πâ‡∏≥‡∏ã‡∏∏‡∏õ 9*14 ‡∏ô‡∏¥‡πâ‡∏ß', unit: '‡πÅ‡∏û‡πá‡∏Ñ' },
        { name: '‡∏ñ‡πâ‡∏ß‡∏¢‡πÉ‡∏™‡πà‡∏ä‡∏≤‡∏°‡∏Å‡πã‡∏ß‡∏¢‡πÄ‡∏ï‡∏µ‡πã‡∏¢‡∏ß', unit: '‡πÅ‡∏û‡πá‡∏Ñ' }, { name: '‡∏ä‡πà‡∏≠‡∏á‡∏ü‡∏£‡∏µ‡∏ã‡πÄ‡∏ã‡∏≠‡∏£‡πå', unit: '' },
        { name: '‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏™‡∏î (‡∏ó‡∏µ‡πà‡∏´‡∏°‡∏±‡∏Å‡πÅ‡∏•‡πâ‡∏ß)', unit: '‡∏Å‡∏¥‡πÇ‡∏•/‡∏Å‡∏£‡∏±‡∏°' }, { name: '‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏™‡∏î (‡∏ó‡∏µ‡πà‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏´‡∏°‡∏±‡∏Å‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡∏±‡∏î)', unit: '‡∏Å‡∏¥‡πÇ‡∏•/‡∏Å‡∏£‡∏±‡∏°' },
        { name: '‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡πÄ‡∏õ‡∏∑‡πà‡∏≠‡∏¢ (‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏™‡∏±‡∏°‡∏ä‡∏±‡πâ‡∏ô)', unit: '‡∏Å‡∏¥‡πÇ‡∏•/‡∏Å‡∏£‡∏±‡∏°' }, { name: '‡∏ï‡∏±‡∏ö‡∏ß‡∏±‡∏ß (‡∏´‡∏°‡∏±‡∏Å‡πÅ‡∏•‡πâ‡∏ß)', unit: '‡∏Å‡∏¥‡πÇ‡∏•/‡∏Å‡∏£‡∏±‡∏°' },
        { name: '‡∏ï‡∏±‡∏ö‡∏ß‡∏±‡∏ß (‡∏ó‡∏µ‡πà‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏´‡∏°‡∏±‡∏Å‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡∏±‡∏î)', unit: '‡∏Å‡∏¥‡πÇ‡∏•/‡∏Å‡∏£‡∏±‡∏°' }, { name: '‡πÄ‡∏•‡∏∑‡∏≠‡∏î‡∏ß‡∏±‡∏ß', unit: '‡∏Ç‡∏ß‡∏î' },
        { name: '‡∏Å‡∏£‡∏∞‡∏î‡∏π‡∏Å‡∏ß‡∏±‡∏ß', unit: '‡∏ä‡∏¥‡πâ‡∏ô' }, { name: '‡∏™‡∏±‡∏ô‡∏•‡∏±‡∏á‡∏ß‡∏±‡∏ß', unit: '‡∏ä‡∏¥‡πâ‡∏ô' }, { name: '‡∏´‡∏°‡∏π‡∏™‡∏î (‡∏ó‡∏µ‡πà‡∏´‡∏°‡∏±‡∏Å‡πÅ‡∏•‡πâ‡∏ß)', unit: '‡∏Å‡∏¥‡πÇ‡∏•/‡∏Å‡∏£‡∏±‡∏°' },
        { name: '‡∏´‡∏°‡∏π‡∏™‡∏î (‡∏ó‡∏µ‡πà‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏´‡∏°‡∏±‡∏Å‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡∏±‡∏î)', unit: '‡∏Å‡∏¥‡πÇ‡∏•/‡∏Å‡∏£‡∏±‡∏°' }, { name: '‡∏´‡∏°‡∏π‡πÄ‡∏õ‡∏∑‡πà‡∏≠‡∏¢', unit: '‡∏Å‡∏¥‡πÇ‡∏•/‡∏Å‡∏£‡∏±‡∏°' },
        { name: '‡∏ï‡∏±‡∏ö‡∏´‡∏°‡∏π (‡∏´‡∏°‡∏±‡∏Å‡πÅ‡∏•‡πâ‡∏ß)', unit: '‡∏Å‡∏¥‡πÇ‡∏•/‡∏Å‡∏£‡∏±‡∏°' }, { name: '‡πÄ‡∏•‡∏∑‡∏≠‡∏î‡∏´‡∏°‡∏π', unit: '‡∏Ç‡∏ß‡∏î' }, { name: '‡πÄ‡∏•‡πâ‡∏á', unit: '‡∏ä‡∏¥‡πâ‡∏ô' },
        { name: '‡∏Ç‡∏≤‡∏ï‡∏±‡πâ‡∏á', unit: '‡∏ä‡∏¥‡πâ‡∏ô' }, { name: '‡∏°‡∏±‡∏ô‡πÅ‡∏Ç‡πá‡∏á', unit: '‡∏Å‡∏¥‡πÇ‡∏•' }
      ],
      '‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ï‡∏≤‡∏°‡∏™‡∏±‡πà‡∏á': [
        { name: '‡∏ú‡∏±‡∏Å‡∏™‡∏î‡πÉ‡∏´‡∏°‡πà', unit: '' }, { name: '‡πÉ‡∏ö‡πÇ‡∏´‡∏£‡∏∞‡∏û‡∏≤', unit: '‡∏Å‡∏£‡∏±‡∏°' }, { name: '‡∏ú‡∏±‡∏Å‡∏ä‡∏µ‡πÉ‡∏ö‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏¢', unit: '‡∏Å‡∏£‡∏±‡∏°' },
        { name: '‡∏ú‡∏±‡∏Å‡∏ö‡∏∏‡πâ‡∏á (‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ï‡∏±‡∏î)', unit: '‡∏Å‡∏≥' }, { name: '‡πÉ‡∏ö‡πÄ‡∏ï‡∏¢', unit: '‡∏Å‡∏£‡∏±‡∏°' }, { name: '‡∏ï‡∏∞‡πÑ‡∏Ñ‡∏£‡πâ', unit: '‡∏Å‡∏£‡∏±‡∏°' },
        { name: '‡∏ú‡∏±‡∏Å‡∏ä‡∏µ', unit: '‡∏Å‡∏£‡∏±‡∏°' }, { name: '‡∏£‡∏≤‡∏Å‡∏ú‡∏±‡∏Å‡∏ä‡∏µ', unit: '‡∏Å‡∏£‡∏±‡∏°' }, { name: '‡∏Å‡∏£‡∏∞‡πÄ‡∏ó‡∏µ‡∏¢‡∏°‡πÑ‡∏ó‡∏¢', unit: '‡∏Å‡∏£‡∏±‡∏°' },
        { name: '‡∏Å‡∏£‡∏∞‡πÄ‡∏ó‡∏µ‡∏¢‡∏°‡∏à‡∏µ‡∏ô', unit: '‡∏Å‡∏£‡∏±‡∏°' }, { name: '‡πÉ‡∏ö‡∏Å‡∏∞‡πÄ‡∏û‡∏£‡∏≤', unit: '‡∏Å‡∏£‡∏±‡∏°' }, { name: '‡∏Ñ‡∏∞‡∏ô‡πâ‡∏≤‡πÄ‡∏•‡πá‡∏Å', unit: '‡∏Å‡∏£‡∏±‡∏°' },
        { name: '‡∏ñ‡∏±‡πà‡∏ß‡∏ù‡∏±‡∏Å‡∏¢‡∏≤‡∏ß', unit: '‡∏Å‡∏£‡∏±‡∏°' }, { name: '‡∏°‡∏∞‡∏°‡πà‡∏ß‡∏á‡∏î‡∏¥‡∏ö', unit: '‡∏Å‡∏£‡∏±‡∏°' }, { name: '‡∏ï‡πâ‡∏ô‡∏´‡∏≠‡∏°', unit: '‡∏Å‡∏£‡∏±‡∏°' },
        { name: '‡πÅ‡∏Ñ‡∏£‡∏≠‡∏ó', unit: '‡∏•‡∏π‡∏Å' }, { name: '‡∏´‡∏±‡∏ß‡∏´‡∏≠‡∏°‡πÉ‡∏´‡∏ç‡πà', unit: '‡∏•‡∏π‡∏Å' }, { name: '‡∏°‡∏∞‡πÄ‡∏Ç‡∏∑‡∏≠‡πÄ‡∏ó‡∏®', unit: '‡∏•‡∏π‡∏Å' },
        { name: '‡πÅ‡∏ï‡∏á‡∏Å‡∏ß‡∏≤', unit: '‡∏•‡∏π‡∏Å' }, { name: '‡∏°‡∏∞‡∏ô‡∏≤‡∏ß', unit: '‡∏Å‡∏£‡∏±‡∏°' }, { name: '‡∏û‡∏£‡∏¥‡∏Å‡∏ä‡∏µ‡πâ‡πÅ‡∏î‡∏á', unit: '‡∏Å‡∏£‡∏±‡∏°' },
        { name: '‡∏û‡∏£‡∏¥‡∏Å‡πÅ‡∏î‡∏á', unit: '‡∏Å‡∏£‡∏±‡∏°' }, { name: '‡∏û‡∏£‡∏¥‡∏Å‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß', unit: '‡∏Å‡∏£‡∏±‡∏°' }, { name: '‡∏û‡∏£‡∏¥‡∏Å‡∏Ç‡∏µ‡πâ‡∏´‡∏ô‡∏π', unit: '‡∏Å‡∏£‡∏±‡∏°' },
        { name: '‡∏û‡∏£‡∏¥‡∏Å‡πÅ‡∏´‡πâ‡∏á', unit: '‡∏Å‡∏£‡∏±‡∏°' }, { name: '‡∏Ç‡∏¥‡∏á', unit: '‡∏´‡∏±‡∏ß' }, { name: '‡∏Å‡∏£‡∏∞‡∏ä‡∏≤‡∏¢', unit: '‡∏´‡∏±‡∏ß' },
        { name: '‡∏°‡∏±‡∏ô', unit: '‡∏•‡∏π‡∏Å' }, { name: '‡πÉ‡∏ö‡∏°‡∏∞‡∏Å‡∏£‡∏π‡∏î', unit: '‡∏Å‡∏£‡∏±‡∏°' }, { name: '‡πÄ‡∏°‡πá‡∏î‡∏û‡∏£‡∏¥‡∏Å‡πÑ‡∏ó‡∏¢‡∏û‡∏ß‡∏á', unit: '‡∏Å‡∏£‡∏±‡∏°' },
        { name: '‡∏´‡∏±‡∏ß‡πÑ‡∏ä‡πÄ‡∏ó‡πâ‡∏≤', unit: '‡∏´‡∏±‡∏ß' }, { name: '‡∏•‡∏π‡∏Å‡∏ú‡∏±‡∏Å‡∏ä‡∏µ', unit: '‡∏ñ‡∏∏‡∏á' }, { name: '‡∏ú‡∏±‡∏Å‡∏Å‡∏≤‡∏î‡∏î‡∏≠‡∏á', unit: '‡∏Å‡∏£‡∏±‡∏°' },
        { name: '‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏õ‡∏£‡∏∏‡∏á', unit: '' }, { name: '‡∏ô‡∏°‡∏à‡∏∑‡∏î', unit: '‡∏Ç‡∏ß‡∏î' }, { name: '‡πÄ‡∏ô‡∏¢‡∏à‡∏∑‡∏î (‡∏Å‡πâ‡∏≠‡∏ô)', unit: '‡∏Å‡πâ‡∏≠‡∏ô' },
        { name: '‡πÄ‡∏ô‡∏¢‡πÄ‡∏Ñ‡πá‡∏° (‡∏Å‡∏£‡∏∞‡∏õ‡∏∏‡∏Å)', unit: '‡∏Å‡∏£‡∏±‡∏°' }, { name: '‡∏Å‡∏∞‡∏ó‡∏¥', unit: '‡∏Ç‡∏ß‡∏î/‡∏Å‡∏•‡πà‡∏≠‡∏á' }, { name: '‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•‡∏õ‡∏µ‡πä‡∏ö', unit: '‡∏Å‡πâ‡∏≠‡∏ô' },
        { name: '‡πÅ‡∏õ‡πâ‡∏á‡∏°‡∏±‡∏ô‡∏™‡∏±‡∏õ‡∏õ‡∏∞‡∏´‡∏•‡∏±‡∏á', unit: '‡∏ñ‡∏∏‡∏á' }, { name: '‡∏ú‡∏á‡∏´‡∏°‡∏±‡∏Å‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏™‡∏±‡∏ï‡∏ß‡πå', unit: '‡∏ã‡∏≠‡∏á' }, { name: '‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•‡∏ó‡∏£‡∏≤‡∏¢‡∏Ç‡∏≤‡∏ß', unit: '‡∏ñ‡∏∏‡∏á' },
        { name: '‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•‡∏ó‡∏£‡∏≤‡∏¢‡πÅ‡∏î‡∏á (‡∏´‡πà‡∏≠‡∏™‡∏µ‡∏°‡πà‡∏ß‡∏á)', unit: '‡∏ñ‡∏∏‡∏á' }, { name: '‡πÄ‡∏Å‡∏•‡∏∑‡∏≠', unit: '‡∏ñ‡∏∏‡∏á' }, { name: '‡∏î‡∏≠‡∏Å‡πÄ‡∏Å‡∏•‡∏∑‡∏≠', unit: '‡∏ñ‡∏∏‡∏á' },
        { name: '‡∏ã‡∏µ‡∏≠‡∏¥‡πä‡∏ß‡∏Ç‡∏≤‡∏ß', unit: '‡πÅ‡∏Å‡∏ô‡∏•‡∏≠‡∏ô' }, { name: '‡∏ã‡∏≠‡∏™‡∏ù‡∏≤‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß (‡∏Ç‡∏ß‡∏î)', unit: '‡∏Ç‡∏ß‡∏î' }, { name: '‡∏ã‡∏≠‡∏™‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡∏´‡∏≠‡∏¢', unit: '‡πÅ‡∏Å‡∏ô‡∏•‡∏≠‡∏ô' },
        { name: '‡∏ô‡πâ‡∏≥‡∏™‡πâ‡∏°‡∏™‡∏≤‡∏¢‡∏ä‡∏π', unit: '‡πÅ‡∏Å‡∏ô‡∏•‡∏≠‡∏ô' }, { name: '‡∏ô‡πâ‡∏≥‡∏õ‡∏•‡∏≤‡∏ó‡∏¥‡∏û‡∏£‡∏™(‡πÅ‡∏Å‡∏ô‡∏•‡∏≠‡∏ô)', unit: '‡πÅ‡∏Å‡∏ô‡∏•‡∏≠‡∏ô' }, { name: '‡∏û‡∏£‡∏¥‡∏Å‡πÅ‡∏Å‡∏á', unit: '‡∏ñ‡∏∏‡∏á' },
        { name: '‡πÄ‡∏´‡∏•‡πâ‡∏≤‡∏à‡∏µ‡∏ô', unit: '‡∏Ç‡∏ß‡∏î' }, { name: '‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡∏á‡∏≤', unit: '‡∏Ç‡∏ß‡∏î' }, { name: '‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡∏û‡∏∑‡∏ä', unit: '‡∏Ç‡∏ß‡∏î' },
        { name: '‡∏ú‡∏á‡∏ä‡∏π‡∏£‡∏™', unit: '‡∏ñ‡∏∏‡∏á' }, { name: '‡∏£‡∏™‡∏î‡∏µ‡πÑ‡∏Å‡πà', unit: '‡∏ñ‡∏∏‡∏á' }, { name: '‡∏ã‡∏µ‡∏≠‡∏¥‡πä‡∏ß‡∏´‡∏ß‡∏≤‡∏ô‡∏î‡∏≥', unit: '‡∏Ç‡∏ß‡∏î' },
        { name: '‡∏ô‡πâ‡∏≥‡∏à‡∏¥‡πâ‡∏°‡∏•‡∏π‡∏Å‡∏ä‡∏¥‡πâ‡∏ô', unit: '‡∏ñ‡∏∏‡∏á' }, { name: '‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏™‡∏±‡∏ï‡∏ß‡πå', unit: '' }, { name: '‡∏ã‡∏µ‡πà‡πÇ‡∏Ñ‡∏£‡∏á‡πÑ‡∏Å‡πà', unit: '‡∏ï‡∏±‡∏ß' },
        { name: '‡∏≠‡∏Å‡πÑ‡∏Å‡πà', unit: '‡∏Å‡∏£‡∏±‡∏°' }, { name: '‡πÑ‡∏Å‡πà‡∏ï‡∏±‡∏ß', unit: '‡∏ï‡∏±‡∏ß' }, { name: '‡∏™‡∏±‡∏ô‡πÉ‡∏ô‡πÑ‡∏Å‡πà', unit: '‡∏Å‡∏¥‡πÇ‡∏•' },
        { name: '‡∏õ‡∏µ‡∏Å‡πÑ‡∏Å‡πà', unit: '‡∏Å‡∏¥‡πÇ‡∏•' }, { name: '‡∏õ‡∏•‡∏≤‡∏´‡∏°‡∏∂‡∏Å', unit: '‡∏Å‡∏£‡∏±‡∏°' }, { name: '‡∏Å‡∏∏‡πâ‡∏á', unit: '‡∏Å‡∏£‡∏±‡∏°' },
        { name: '‡∏°‡∏±‡∏ô‡πÅ‡∏Ç‡πá‡∏á', unit: '‡∏Å‡∏¥‡πÇ‡∏•' }, { name: '‡∏Ç‡∏≤‡∏´‡∏°‡∏π', unit: '‡∏Å‡∏¥‡πÇ‡∏•' }, { name: '‡πÑ‡∏Ç‡πà‡πÑ‡∏Å‡πà', unit: '‡∏ü‡∏≠‡∏á' },
        { name: '‡πÑ‡∏Ç‡πà‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏ß‡∏°‡πâ‡∏≤', unit: '‡∏ü‡∏≠‡∏á' }, { name: '‡∏Ç‡πâ‡∏≤‡∏ß', unit: '' }, { name: '‡∏Ç‡πâ‡∏≤‡∏ß‡∏ï‡∏£‡∏≤‡∏™‡∏≤‡∏°‡∏á‡∏π', unit: '‡∏ñ‡∏∏‡∏á' },
        { name: '‡∏Ç‡πâ‡∏≤‡∏ß‡∏ï‡∏£‡∏≤‡∏°‡∏±‡∏Å‡∏Å‡∏£', unit: '‡∏ñ‡∏∏‡∏á' }, { name: '‡∏Ç‡πâ‡∏≤‡∏ß‡∏™‡∏≤‡∏£‡∏ó‡∏≥‡∏Ç‡πâ‡∏≤‡∏ß‡∏ú‡∏±‡∏î', unit: '‡∏ñ‡∏∏‡∏á' }, { name: '‡∏Ç‡πâ‡∏≤‡∏ß‡∏¢‡∏≤‡∏ß‡πÅ‡∏Å‡∏•‡∏°‡∏û', unit: '‡∏ñ‡∏∏‡∏á' },
        { name: '‡∏™‡∏õ‡∏≤‡πÄ‡∏Å‡πá‡∏ï‡∏ï‡∏µ‡πâ', unit: '‡∏Å‡∏£‡∏±‡∏°' }
      ],
      '‡πÄ‡∏î‡πá‡∏Å‡πÄ‡∏™‡∏¥‡∏£‡πå‡∏ü': [
        { name: '‡∏ô‡πâ‡∏≥‡∏´‡∏ß‡∏≤‡∏ô', unit: '' }, { name: '‡∏ô‡πâ‡∏≥‡πÄ‡∏õ‡∏•‡πà‡∏≤', unit: '‡πÅ‡∏û‡πá‡∏Ñ' }, { name: '‡∏ô‡πâ‡∏≥‡πÇ‡∏Ñ‡πâ‡∏Å', unit: '‡∏•‡∏±‡∏á' },
        { name: '‡∏ô‡πâ‡∏≥‡πÅ‡∏î‡∏á', unit: '‡∏•‡∏±‡∏á' }, { name: '‡∏ô‡πâ‡∏≥‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß', unit: '‡∏•‡∏±‡∏á' }, { name: '‡∏ô‡πâ‡∏≥‡∏™‡πâ‡∏°', unit: '‡∏•‡∏±‡∏á' },
        { name: '‡∏ô‡πâ‡∏≥‡∏™‡πÑ‡∏õ‡∏£‡πå‡∏ó Sprite', unit: '‡∏•‡∏±‡∏á' }, { name: '‡πÇ‡∏Ñ‡πâ‡∏Å‡∏ã‡∏µ‡πÇ‡∏£‡πà', unit: '‡πÅ‡∏û‡πá‡∏Ñ' }, { name: '‡∏ô‡πâ‡∏≥‡πÄ‡∏Å‡πä‡∏Å‡∏Æ‡∏ß‡∏¢', unit: '‡∏ñ‡∏∏‡∏á/‡∏Ç‡∏ß‡∏î' },
        { name: '‡∏ô‡πâ‡∏≥‡∏ö‡πä‡∏ß‡∏¢', unit: '‡∏ñ‡∏∏‡∏á/‡∏Ç‡∏ß‡∏î' }, { name: '‡∏ô‡πâ‡∏≥‡∏Å‡∏£‡∏∞‡πÄ‡∏à‡∏µ‡πä‡∏¢‡∏ö', unit: '‡∏ñ‡∏∏‡∏á/‡∏Ç‡∏ß‡∏î' }, { name: '‡πÇ‡∏≠‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á', unit: '‡∏ñ‡∏∏‡∏á/‡∏Ç‡∏ß‡∏î' },
        { name: '‡∏ô‡πâ‡∏≥‡∏ä‡∏≤‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß', unit: '‡∏ñ‡∏∏‡∏á/‡∏Ç‡∏ß‡∏î' }, { name: '‡∏ô‡πâ‡∏≥‡∏ä‡∏≤‡πÑ‡∏ó‡∏¢', unit: '‡∏ñ‡∏∏‡∏á/‡∏Ç‡∏ß‡∏î' }, { name: '‡∏ô‡πâ‡∏≥‡∏ä‡∏≤‡∏°‡∏∞‡∏ô‡∏≤‡∏ß', unit: '‡∏ñ‡∏∏‡∏á/‡∏Ç‡∏ß‡∏î' },
        { name: '‡∏Ç‡∏≠‡∏á‡∏´‡∏ß‡∏≤‡∏ô ‡πÅ‡∏•‡∏∞ ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏Ñ‡∏µ‡πà‡∏¢‡∏ß', unit: '' },
        { name: '‡πÑ‡∏≠‡∏ï‡∏¥‡∏°‡∏Ç‡∏ô‡∏°‡∏õ‡∏±‡∏á ‡∏ä‡πá‡∏≠‡∏Å‡πÇ‡∏Å‡πÅ‡∏•‡∏ï', unit: '‡πÑ‡∏°‡πâ' }, { name: '‡πÑ‡∏≠‡∏ï‡∏¥‡∏°‡∏Ç‡∏ô‡∏°‡∏õ‡∏±‡∏á ‡∏ß‡∏ô‡∏¥‡∏•‡∏•‡∏≤', unit: '‡πÑ‡∏°‡πâ' },
        { name: '‡πÑ‡∏≠‡∏ï‡∏¥‡∏°‡∏Å‡∏£‡∏ß‡∏¢‡∏ä‡πá‡∏≠‡∏Å‡πÇ‡∏Å‡πÅ‡∏•‡∏ï', unit: '‡πÑ‡∏°‡πâ' }, { name: '‡πÑ‡∏≠‡∏ï‡∏¥‡∏°‡∏Å‡∏£‡∏ß‡∏¢ ‡∏Ñ‡∏∏‡πâ‡∏Å‡∏Å‡∏µ‡πâ‡∏ä‡πá‡∏≠‡∏Ñ', unit: '‡πÑ‡∏°‡πâ' },
        { name: '‡πÑ‡∏≠‡∏ï‡∏¥‡∏°‡∏Å‡∏£‡∏ß‡∏¢ ‡∏Ñ‡∏≠‡∏ï‡∏ï‡∏≠‡∏ï‡∏ï‡∏≠‡∏ô', unit: '‡πÑ‡∏°‡πâ' }, { name: '‡πÑ‡∏≠‡∏ï‡∏¥‡∏°‡∏ñ‡πâ‡∏ß‡∏¢ ‡∏ä‡πá‡∏≠‡∏Å‡πÇ‡∏Å‡πÅ‡∏•‡∏ï', unit: '‡∏ñ‡πâ‡∏ß‡∏¢' },
        { name: '‡πÑ‡∏≠‡∏ï‡∏¥‡∏°‡∏ñ‡πâ‡∏ß‡∏¢ ‡∏ß‡∏≤‡∏ô‡∏¥‡∏•‡∏•‡∏≤', unit: '‡∏ñ‡πâ‡∏ß‡∏¢' }, { name: '‡πÑ‡∏≠‡∏ï‡∏¥‡∏°‡∏ñ‡πâ‡∏ß‡∏¢ ‡∏Æ‡∏≠‡∏Å‡πÑ‡∏Å‡πÇ‡∏î', unit: '‡∏ñ‡πâ‡∏ß‡∏¢' },
        { name: '‡πÑ‡∏≠‡∏ï‡∏¥‡∏°‡∏ñ‡∏±‡πà‡∏ß‡∏î‡∏≥', unit: '‡πÑ‡∏°‡πâ' }, { name: '‡πÑ‡∏≠‡∏ï‡∏¥‡∏°‡πÄ‡∏ú‡∏∑‡∏≠‡∏Å‡∏ñ‡∏±‡πà‡∏ß‡∏î‡∏≥', unit: '‡πÑ‡∏°‡πâ' }, { name: '‡πÑ‡∏≠‡∏ï‡∏¥‡∏°‡∏ó‡∏∏‡πÄ‡∏£‡∏µ‡∏¢‡∏ô', unit: '‡πÑ‡∏°‡πâ' },
        { name: '‡πÑ‡∏≠‡∏ï‡∏¥‡∏°‡∏Å‡∏∞‡∏ó‡∏¥‡∏°‡∏∞‡∏û‡∏£‡πâ‡∏≤‡∏ß‡∏≠‡πà‡∏≠‡∏ô', unit: '‡πÑ‡∏°‡πâ' }, { name: '‡∏Ç‡∏ô‡∏°‡∏ñ‡πâ‡∏ß‡∏¢', unit: '‡∏Ñ‡∏π‡πà' }, { name: '‡∏Å‡∏≤‡∏Å‡πÄ‡∏à‡∏µ‡∏¢‡∏ß', unit: '‡∏Å‡∏£‡∏±‡∏°' },
        { name: '‡∏ô‡∏°‡∏Ç‡πâ‡∏≤‡∏ß‡∏´‡∏ß‡∏≤‡∏ô', unit: '‡∏ñ‡∏∏‡∏á' }, { name: '‡∏ô‡∏°‡∏à‡∏∑‡∏î‡∏Å‡∏£‡∏∞‡∏õ‡πã‡∏≠‡∏á', unit: '‡∏Å‡∏£‡∏∞‡∏õ‡πã‡∏≠‡∏á' }, { name: '‡∏Ñ‡∏£‡∏µ‡∏°‡πÄ‡∏ó‡∏µ‡∏¢‡∏°', unit: '‡∏ñ‡∏∏‡∏á' },
        { name: '‡πÅ‡∏Ñ‡∏õ‡∏´‡∏°‡∏π', unit: '‡∏ñ‡∏∏‡∏á' }, { name: '‡πÅ‡∏Ñ‡∏õ‡∏ß‡∏±‡∏ß', unit: '‡∏ñ‡∏∏‡∏á' }, { name: '‡∏´‡∏°‡∏π‡∏Å‡∏£‡∏∞‡∏à‡∏Å', unit: '‡∏ñ‡∏∏‡∏á' },
        { name: '‡∏´‡∏ô‡∏±‡∏á‡∏õ‡∏•‡∏≤‡∏Å‡∏£‡∏≠‡∏ö‡∏£‡∏™‡∏î‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏¥‡∏°', unit: '‡∏ñ‡∏∏‡∏á' }, { name: '‡∏†‡∏≤‡∏ä‡∏ô‡∏∞‡∏ö‡∏£‡∏£‡∏à‡∏∏', unit: '' },
        { name: '‡∏ñ‡πâ‡∏ß‡∏¢‡πÉ‡∏™‡πà‡∏Å‡πã‡∏ß‡∏¢‡πÄ‡∏ï‡∏µ‡πã‡∏¢‡∏ß', unit: '‡πÅ‡∏û‡πá‡∏Ñ' }, { name: '‡∏Å‡∏•‡πà‡∏≠‡∏á‡πÉ‡∏™‡πà‡∏Ç‡πâ‡∏≤‡∏ß‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ï‡∏≤‡∏°‡∏™‡∏±‡πà‡∏á 1 ‡∏ä‡πà‡∏≠‡∏á', unit: '‡πÅ‡∏û‡πá‡∏Ñ' },
        { name: '‡∏Å‡∏•‡πà‡∏≠‡∏á‡πÉ‡∏™‡πà‡∏Ç‡πâ‡∏≤‡∏ß‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ï‡∏≤‡∏°‡∏™‡∏±‡πà‡∏á 2 ‡∏ä‡πà‡∏≠‡∏á', unit: '‡πÅ‡∏û‡πá‡∏Ñ' }, { name: '‡∏Å‡∏•‡πà‡∏≠‡∏á‡πÉ‡∏™‡πà‡∏Ç‡∏ô‡∏°‡∏ñ‡πâ‡∏ß‡∏¢', unit: '‡πÅ‡∏û‡πá‡∏Ñ' },
        { name: '‡∏ñ‡∏∏‡∏á‡∏ô‡πâ‡∏≥‡∏à‡∏¥‡πâ‡∏° 2.5*4', unit: '10 ‡∏ñ‡∏∏‡∏á' }, { name: '‡∏ñ‡∏∏‡∏á‡∏£‡πâ‡∏≠‡∏ô 5*8', unit: '‡πÅ‡∏û‡πá‡∏Ñ' }, { name: '‡∏ñ‡∏∏‡∏á‡∏£‡πâ‡∏≠‡∏ô 6*9', unit: '‡πÅ‡∏û‡πá‡∏Ñ' },
        { name: '‡∏ñ‡∏∏‡∏á‡πÉ‡∏™‡πà‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏°‡∏±‡∏Å 7*11', unit: '‡πÅ‡∏û‡πá‡∏Ñ' }, { name: '‡∏ñ‡∏∏‡∏á‡∏ô‡πâ‡∏≥‡∏´‡∏ß‡∏≤‡∏ô 10*15', unit: '‡πÅ‡∏û‡πá‡∏Ñ' }, { name: '‡∏ñ‡∏∏‡∏á‡∏´‡∏π‡∏´‡∏¥‡πâ‡∏ß‡πÄ‡∏•‡πá‡∏Å 6*14', unit: '‡πÅ‡∏û‡πá‡∏Ñ' },
        { name: '‡∏ñ‡∏∏‡∏á‡∏´‡∏π‡∏´‡∏¥‡πâ‡∏ß‡∏Å‡∏•‡∏≤‡∏á 8*16', unit: '‡πÅ‡∏û‡πá‡∏Ñ' }, { name: '‡∏ñ‡∏∏‡∏á‡∏´‡∏π‡∏´‡∏¥‡πâ‡∏ß‡πÉ‡∏´‡∏ç‡πà 9*18', unit: '‡πÅ‡∏û‡πá‡∏Ñ' }, { name: '‡∏´‡∏ô‡∏±‡∏á‡∏¢‡∏≤‡∏á', unit: '‡∏ñ‡∏∏‡∏á' },
        { name: '‡∏ï‡∏∞‡πÄ‡∏Å‡∏µ‡∏¢‡∏ö', unit: '‡πÅ‡∏û‡πá‡∏Ñ' }, { name: '‡∏ä‡πâ‡∏≠‡∏ô‡∏û‡∏•‡∏≤‡∏™‡∏ï‡∏¥‡∏Å', unit: '‡πÅ‡∏û‡πá‡∏Ñ' }, { name: '‡πÅ‡∏Å‡πâ‡∏ß 20oz', unit: '‡πÅ‡∏ñ‡∏ß' },
        { name: '‡∏ù‡∏≤‡πÅ‡∏Å‡πâ‡∏ß 20oz', unit: '‡πÅ‡∏ñ‡∏ß' }, { name: '‡∏ñ‡∏∏‡∏á‡πÉ‡∏™‡πà‡πÅ‡∏Å‡πâ‡∏ß 20 oz', unit: '‡πÅ‡∏û‡πá‡∏Ñ' }, { name: '‡πÅ‡∏Å‡πâ‡∏ß 30oz', unit: '‡πÅ‡∏ñ‡∏ß' },
        { name: '‡∏ù‡∏≤‡πÅ‡∏Å‡πâ‡∏ß 30oz', unit: '‡πÅ‡∏ñ‡∏ß' }, { name: '‡∏ñ‡∏∏‡∏á‡πÉ‡∏™‡πà‡πÅ‡∏Å‡πâ‡∏ß 32 oz', unit: '‡πÅ‡∏û‡πá‡∏Ñ' }, { name: '‡∏ñ‡∏∏‡∏á‡∏Ç‡∏≤‡∏ß', unit: '‡πÅ‡∏û‡πá‡∏Ñ' },
        { name: '‡∏û‡∏•‡∏≤‡∏™‡∏ï‡∏¥‡∏Å‡πÅ‡∏£‡πä‡∏õ‡∏≠‡∏≤‡∏´‡∏≤‡∏£', unit: '‡∏°‡πâ‡∏ß‡∏ô' }, { name: '‡∏´‡∏•‡∏≠‡∏î‡∏™‡∏±‡πâ‡∏ô', unit: '‡πÅ‡∏û‡πá‡∏Ñ' }, { name: '‡∏´‡∏•‡∏≠‡∏î‡∏¢‡∏≤‡∏ß', unit: '‡πÅ‡∏û‡πá‡∏Ñ' },
        { name: '‡∏≠‡∏∑‡πà‡∏ô ‡πÜ', unit: '' }, { name: '‡∏ó‡∏¥‡∏ä‡∏ä‡∏π‡πà‡∏ï‡∏±‡πâ‡∏á‡πÇ‡∏ï‡πä‡∏∞', unit: '‡πÅ‡∏û‡πá‡∏Ñ' }, { name: '‡∏ó‡∏¥‡∏ä‡∏ä‡∏π‡πà‡∏°‡πâ‡∏ß‡∏ô‡πÉ‡∏´‡∏ç‡πà', unit: '‡∏°‡πâ‡∏ß‡∏ô' },
        { name: '‡∏ô‡πâ‡∏≥‡∏õ‡∏•‡∏≤‡∏Ç‡∏ß‡∏î‡πÄ‡∏•‡πá‡∏Å', unit: '‡∏Ç‡∏ß‡∏î' }, { name: '‡∏´‡∏ô‡πâ‡∏≤‡∏Å‡∏≤‡∏Å‡∏≠‡∏ô‡∏≤‡∏°‡∏±‡∏¢', unit: '‡∏´‡πà‡∏≠' }, { name: '‡πÑ‡∏°‡πâ‡∏à‡∏¥‡πâ‡∏°‡∏ü‡∏±‡∏ô', unit: '‡πÅ‡∏û‡πá‡∏Ñ' },
        { name: '‡∏ñ‡∏∏‡∏á‡∏î‡∏≥‡∏´‡∏•‡∏±‡∏á‡∏Ñ‡∏£‡∏±‡∏ß', unit: '‡πÅ‡∏û‡πá‡∏Ñ' }, { name: '‡∏ñ‡∏∏‡∏á‡∏î‡∏≥‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏£‡∏∑‡∏≠', unit: '‡πÅ‡∏û‡πá‡∏Ñ' }, { name: '‡∏ô‡πâ‡∏≥‡∏¢‡∏≤‡∏•‡πâ‡∏≤‡∏á‡∏à‡∏≤‡∏ô', unit: '‡∏ñ‡∏∏‡∏á/‡πÅ‡∏û‡πá‡∏Ñ' },
        { name: '‡∏™‡∏Å‡πá‡∏≠‡∏ï‡πÑ‡∏ö‡∏£‡πå‡∏ó (‡∏à‡∏≤‡∏ô)', unit: '‡∏ä‡∏¥‡πâ‡∏ô' }, { name: '‡∏™‡∏Å‡πá‡∏≠‡∏ï‡πÑ‡∏ö‡∏£‡πå‡∏ó (‡πÅ‡∏Å‡πâ‡∏ß)', unit: '‡∏ä‡∏¥‡πâ‡∏ô' }, { name: '‡∏ú‡∏á‡∏ã‡∏±‡∏Å‡∏ü‡∏≠‡∏Å', unit: '‡∏ñ‡∏∏‡∏á' },
        { name: '‡πÅ‡∏ú‡πà‡∏ô‡∏î‡∏±‡∏Å‡πÅ‡∏°‡∏•‡∏á‡∏ß‡∏±‡∏ô', unit: '‡πÅ‡∏ú‡πà‡∏ô' }, { name: '‡∏ô‡πâ‡∏≥‡∏¢‡∏≤‡πÑ‡∏•‡πà‡πÅ‡∏°‡∏•‡∏á‡∏ß‡∏±‡∏ô', unit: '‡πÅ‡∏Å‡∏ô‡∏•‡∏≠‡∏ô' }, { name: '‡∏´‡∏°‡∏ß‡∏Å‡∏Ñ‡∏•‡∏∏‡∏°‡∏ú‡∏°', unit: '‡πÅ‡∏û‡πá‡∏Ñ' },
        { name: '‡∏ã‡∏≠‡∏™‡∏°‡∏∞‡πÄ‡∏Ç‡∏∑‡∏≠‡πÄ‡∏ó‡∏®', unit: '‡∏Ç‡∏ß‡∏î' }, { name: '‡∏ã‡∏≠‡∏™‡∏û‡∏£‡∏¥‡∏Å', unit: '‡∏Ç‡∏ß‡∏î' }, { name: '‡∏ã‡∏≠‡∏™‡πÅ‡∏°‡∏Ñ‡∏Å‡∏µ‡πâ', unit: '‡∏Ç‡∏ß‡∏î' }
      ]
    };

    // State
    let currentCategory = '';
    let checkerName = '';
    let allRecords = [];
    let sheetPollTimer = null;

    const defaultConfig = {
      shop_name: '‡∏Å‡πã‡∏ß‡∏¢‡πÄ‡∏ï‡∏µ‡πã‡∏¢‡∏ß‡πÄ‡∏£‡∏∑‡∏≠‡∏£‡∏™‡∏à‡∏ô‡∏≤',
      primary_color: '#ea580c',
      secondary_color: '#ffffff',
      text_color: '#1f2937',
      accent_color: '#22c55e',
      bg_color: '#fff7ed'
    };

    // =========================
    // ‚úÖ Draft per category (‡∏Å‡∏±‡∏ô‡∏Å‡∏£‡∏≠‡∏Å‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡∏î‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏≤‡∏¢)
    // =========================
    const DRAFT_KEY = "rosjana_stock_draft_v1";

    function loadDraft_() {
      try { return JSON.parse(localStorage.getItem(DRAFT_KEY) || "{}"); }
      catch(e){ return {}; }
    }
    function saveDraft_(draft) {
      try { localStorage.setItem(DRAFT_KEY, JSON.stringify(draft)); } catch(e){}
    }
    function setDraftValue_(category, itemName, field, value) {
      const draft = loadDraft_();
      if (!draft[category]) draft[category] = {};
      if (!draft[category][itemName]) draft[category][itemName] = {};
      draft[category][itemName][field] = value;
      saveDraft_(draft);
    }
    function getDraftValue_(category, itemName, field) {
      const draft = loadDraft_();
      return draft?.[category]?.[itemName]?.[field] ?? "";
    }
    function clearDraft_(category) {
      const draft = loadDraft_();
      if (draft[category]) delete draft[category];
      saveDraft_(draft);
    }

    // =========================
    // Data handler (dataSdk)
    // =========================
    const dataHandler = {
      onDataChanged(data) {
        // dataSdk ‡∏à‡∏∞‡∏¢‡∏¥‡∏á event ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô -> ‡∏ñ‡∏∑‡∏≠‡∏ß‡πà‡∏≤ real-time ‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡∏ô‡∏µ‡πâ‡πÅ‡∏•‡πâ‡∏ß
        allRecords = Array.isArray(data) ? data : [];
        if (!document.getElementById('history-page').classList.contains('hidden')) {
          renderHistory();
        }
      }
    };


    // ===== Google Sheet History (fallback when dataSdk is unavailable) =====
    let lastSheetSyncAt = 0;

    async function fetchHistoryFromSheet_(limit = 300) {
      try {
        if (typeof GOOGLE_SHEET_WEBAPP_URL !== "string" ||
            !GOOGLE_SHEET_WEBAPP_URL.startsWith("https://script.google.com/macros/s/")) {
          return [];
        }
        const url = GOOGLE_SHEET_WEBAPP_URL + "?limit=" + encodeURIComponent(String(limit));
        const resp = await fetch(url, { method: "GET" });
        const data = await resp.json().catch(() => null);
        if (!data || data.ok !== true || !Array.isArray(data.records)) return [];
        return data.records;
      } catch (e) {
        console.warn("fetchHistoryFromSheet_ failed:", e);
        return [];
      }
    }

    async function syncHistoryFromSheet_({ silent = true } = {}) {
      // avoid hammering
      const now = Date.now();
      if (now - lastSheetSyncAt < 1500) return;
      lastSheetSyncAt = now;

      const records = await fetchHistoryFromSheet_(500);
      if (records.length) {
        allRecords = records;
        // ‡∏ñ‡πâ‡∏≤‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡∏≠‡∏¢‡∏π‡πà‡∏´‡∏ô‡πâ‡∏≤‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥ ‡πÉ‡∏´‡πâ‡∏£‡∏µ‡πÄ‡∏£‡∏ô‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏ó‡∏±‡∏ô‡∏ó‡∏µ
        if (document.getElementById('history-page') && !document.getElementById('history-page').classList.contains('hidden')) {
          renderHistory();
        }
      } else if (!silent) {
        showToast("‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô Google Sheet", "error");
      }
    }


    // =========================
    // ‚úÖ Quantity validation/sanitize
    // ‡πÉ‡∏™‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏â‡∏û‡∏≤‡∏∞ 0-9 ‡πÅ‡∏•‡∏∞ . / + -
    // ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡πÅ‡∏õ‡∏•‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡πÑ‡∏î‡πâ‡∏ó‡∏±‡πâ‡∏á: 10, 10.5, -2, +3, 1/2, -1/2
    // =========================
    const QTY_ALLOWED_RE = /[0-9.\-+\/]/;

    function sanitizeQuantityRaw_(raw) {
      let out = "";
      for (const ch of String(raw || "")) {
        if (QTY_ALLOWED_RE.test(ch)) out += ch;
      }
      // ‡∏à‡∏≥‡∏Å‡∏±‡∏î + - ‡πÉ‡∏´‡πâ‡∏°‡∏µ‡πÑ‡∏î‡πâ‡πÅ‡∏Ñ‡πà‡∏ï‡∏±‡∏ß‡πÅ‡∏£‡∏Å
      out = out.replace(/(?!^)[+-]/g, "");
      return out;
    }

    function parseQuantity_(raw) {
      const s = String(raw || "").trim();
      if (!s) return { ok: true, value: 0 };

      // number
      if (/^[+-]?\d*(?:\.\d+)?$/.test(s)) {
        const v = Number(s);
        if (Number.isFinite(v)) return { ok: true, value: v };
        return { ok: false, value: 0 };
      }

      // fraction: a/b
      const m = s.match(/^([+-]?\d*(?:\.\d+)?)\s*\/\s*(\d*(?:\.\d+)?)$/);
      if (m) {
        const aStr = m[1];
        const bStr = m[2];
        // ‡∏ñ‡πâ‡∏≤ a ‡πÄ‡∏õ‡πá‡∏ô "" ‡∏´‡∏£‡∏∑‡∏≠ "+" ‡∏´‡∏£‡∏∑‡∏≠ "-" ‡∏ñ‡∏∑‡∏≠‡∏ß‡πà‡∏≤‡πÑ‡∏°‡πà‡∏Ñ‡∏£‡∏ö
        if (!aStr || aStr === "+" || aStr === "-") return { ok: false, value: 0 };
        if (!bStr) return { ok: false, value: 0 };
        const a = Number(aStr);
        const b = Number(bStr);
        if (!Number.isFinite(a) || !Number.isFinite(b) || b === 0) return { ok: false, value: 0 };
        return { ok: true, value: a / b };
      }

      return { ok: false, value: 0 };
    }

    function sanitizeQuantityInput(el) {
      const before = el.value;
      const after = sanitizeQuantityRaw_(before);
      if (before !== after) el.value = after;

      const p = parseQuantity_(el.value);
      el.classList.toggle("qty-invalid", !p.ok && el.value.trim() !== "");

      // draft
      const item = el.getAttribute("data-item");
      setDraftValue_(currentCategory, item, "quantity_raw", el.value);
    }

    function onQtyKeyDown_(e) {
      // ‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï: ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç, ., /, +, -, ‡∏õ‡∏∏‡πà‡∏°‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°
      const ctrl = ["Backspace","Delete","ArrowLeft","ArrowRight","Tab","Home","End","Enter"];
      if (ctrl.includes(e.key) || e.ctrlKey || e.metaKey) return;

      if (!QTY_ALLOWED_RE.test(e.key)) {
        e.preventDefault();
        return;
      }
    }

    // =========================
    // ‚úÖ Google Sheet sync (optional)
    // =========================
    async function pushToGoogleSheet_(record) {
      if (!GOOGLE_SHEET_WEBAPP_URL || GOOGLE_SHEET_WEBAPP_URL.includes("PASTE_YOUR")) return { ok: true, skipped: true };
      try {
        const res = await fetch(GOOGLE_SHEET_WEBAPP_URL, {
          method: "POST",
          headers: { "Content-Type": "text/plain;charset=utf-8" },
          body: JSON.stringify({ action: "append", record })
        });
        const data = await res.json().catch(() => ({}));
        if (!res.ok) return { ok: false, error: data?.error || "HTTP " + res.status };
        return { ok: !!data?.isOk || true, data };
      } catch (e) {
        return { ok: false, error: String(e) };
      }
    }

    async function fetchFromGoogleSheet_() {
      if (!GOOGLE_SHEET_WEBAPP_URL || GOOGLE_SHEET_WEBAPP_URL.includes("PASTE_YOUR")) return null;
      try {
        const res = await fetch(GOOGLE_SHEET_WEBAPP_URL + "?action=list");
        const data = await res.json().catch(() => null);
        if (!res.ok || !data) return null;
        if (Array.isArray(data.records)) return data.records;
        return null;
      } catch (e) {
        return null;
      }
    }

    async function startSheetPolling_() {
      if (sheetPollTimer) clearInterval(sheetPollTimer);
      if (!GOOGLE_SHEET_WEBAPP_URL || GOOGLE_SHEET_WEBAPP_URL.includes("PASTE_YOUR")) return;
      // ‡∏î‡∏∂‡∏á‡∏ó‡∏±‡∏ô‡∏ó‡∏µ 1 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á
      const initial = await fetchFromGoogleSheet_();
      if (initial && initial.length) {
        // ‡∏£‡∏ß‡∏°‡∏Å‡∏±‡∏ö‡∏Ç‡∏≠‡∏á‡πÄ‡∏î‡∏¥‡∏° (‡πÄ‡∏≠‡∏≤ id ‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡∏ï‡∏±‡∏î‡∏ã‡πâ‡∏≥)
        mergeRecords_(initial);
      }
      sheetPollTimer = setInterval(async () => {
        const recs = await fetchFromGoogleSheet_();
        if (recs && recs.length) mergeRecords_(recs);
      }, SHEET_POLL_MS);
    }

    function mergeRecords_(incoming) {
      // incoming ‡∏≠‡∏≤‡∏à‡∏°‡∏µ‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö {id, category, checker_name, date, items, created_at}
      const byId = new Map((allRecords || []).map(r => [String(r.id || r.__backendId || ""), r]));
      for (const r of incoming) {
        const k = String(r.id || r.__backendId || "");
        if (!k) continue;
        if (!byId.has(k)) byId.set(k, r);
      }
      allRecords = Array.from(byId.values());
      if (!document.getElementById('history-page').classList.contains('hidden')) {
        renderHistory();
      }
    }

    // =========================
    // Language
    // =========================
    function setLanguage(lang) {
      currentLanguage = lang;
      document.querySelectorAll('.lang-btn').forEach(btn => btn.classList.remove('active'));
      document.getElementById('btn-' + lang).classList.add('active');
      updateLanguage();
      // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å
      document.getElementById('current-date').textContent = formatDate(new Date(), currentLanguage);
    }

    function updateLanguage() {
      const t = translations[currentLanguage];

      document.getElementById('txt-daily-check').textContent = t.dailyCheck;
      document.getElementById('txt-history').textContent = t.history;
      document.getElementById('txt-date2').textContent = t.date2;
      document.getElementById('cat-boat').textContent = t.boatFront;
      document.getElementById('cat-boat-desc').textContent = t.boatFrontDesc;
      document.getElementById('cat-food').textContent = t.customFood;
      document.getElementById('cat-food-desc').textContent = t.customFoodDesc;
      document.getElementById('cat-staff').textContent = t.staffChild;
      document.getElementById('cat-staff-desc').textContent = t.staffChildDesc;

      document.getElementById('txt-back-home').textContent = t.backHome;
      document.getElementById('txt-staff-name-title').textContent = t.staffName;
      document.getElementById('txt-staff-name-desc').textContent = t.enterName;
      document.getElementById('txt-full-name-label').textContent = t.fullName;
      document.getElementById('btn-start-checking').textContent = t.startChecking;

      document.getElementById('txt-back').textContent = t.back;
      document.getElementById('txt-item').textContent = t.item;
      document.getElementById('txt-quantity').textContent = t.quantity;
      document.getElementById('txt-unit').textContent = t.unit;
      document.getElementById('txt-note').textContent = t.note;
      document.getElementById('txt-staff-checker').textContent = t.staffChecker;
      document.getElementById('txt-date-label').textContent = t.date;
      document.getElementById('txt-save').textContent = t.save;

      document.getElementById('txt-back-home2').textContent = t.backHome;
      document.getElementById('txt-history-title').textContent = t.historyTitle;
      document.getElementById('txt-select-date').textContent = t.selectDate;
      document.getElementById('txt-category-label').textContent = t.category;
      document.getElementById('opt-all').textContent = t.all;
      document.getElementById('txt-no-history').textContent = t.noHistory;
      document.getElementById('txt-back-history').textContent = t.backHistory;
    }

    function formatDate(date, lang) {
      const options = { day: '2-digit', month: '2-digit', year: 'numeric' };
      return new Date(date).toLocaleDateString(lang === 'lo' ? 'lo-LA' : lang === 'my' ? 'my-MM' : 'en-US', options);
    }

    function formatFullDate(date, lang) {
      const options = { weekday: 'short', day: 'numeric', month: 'short', year: 'numeric', hour: '2-digit', minute: '2-digit' };
      return new Date(date).toLocaleDateString(lang === 'lo' ? 'lo-LA' : lang === 'my' ? 'my-MM' : 'en-US', options);
    }

    function getPreviousRecord(category) {
      const filtered = (allRecords || [])
        .filter(r => r.category === category)
        .sort((a, b) => new Date(b.date) - new Date(a.date));
      return filtered.length > 1 ? filtered[1] : null;
    }

    function getItemFromRecord(record, itemName) {
      const items = JSON.parse(record.items || '[]');
      return items.find(i => i.name === itemName);
    }

    // =========================
    // Initialize
    // =========================
    async function init() {
      const today = new Date();
      document.getElementById('current-date').textContent = formatDate(today, currentLanguage);
      document.getElementById('filter-date').valueAsDate = today;

      const result = (window.dataSdk && typeof window.dataSdk.init==="function" ? await window.dataSdk.init(dataHandler) : {isOk:false});
      if (!result.isOk) console.error('Failed to initialize data SDK');

      // Sheet polling (optional)
      startSheetPolling_();

      if (window.elementSdk) {
        window.elementSdk.init({
          defaultConfig,
          onConfigChange: async (config) => {
            const shopName = config.shop_name || defaultConfig.shop_name;
            document.getElementById('shop-title').textContent = 'üçú ' + shopName;
          },
          mapToCapabilities: (config) => ({
            recolorables: [
              { get: () => config.bg_color || defaultConfig.bg_color, set: (v) => { config.bg_color = v; window.elementSdk.setConfig({ bg_color: v }); } },
              { get: () => config.secondary_color || defaultConfig.secondary_color, set: (v) => { config.secondary_color = v; window.elementSdk.setConfig({ secondary_color: v }); } },
              { get: () => config.text_color || defaultConfig.text_color, set: (v) => { config.text_color = v; window.elementSdk.setConfig({ text_color: v }); } },
              { get: () => config.primary_color || defaultConfig.primary_color, set: (v) => { config.primary_color = v; window.elementSdk.setConfig({ primary_color: v }); } },
              { get: () => config.accent_color || defaultConfig.accent_color, set: (v) => { config.accent_color = v; window.elementSdk.setConfig({ accent_color: v }); } }
            ],
            borderables: [],
            fontEditable: undefined,
            fontSizeable: undefined
          }),
          mapToEditPanelValues: (config) => new Map([
            ['shop_name', config.shop_name || defaultConfig.shop_name]
          ])
        });
      }

      

      // ‡∏î‡∏∂‡∏á‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏à‡∏≤‡∏Å Google Sheet (‡∏Å‡∏£‡∏ì‡∏µ‡πÄ‡∏õ‡∏¥‡∏î‡πÑ‡∏ü‡∏•‡πå‡πÅ‡∏ö‡∏ö file:// ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà‡∏°‡∏µ dataSdk)
      await syncHistoryFromSheet_({ silent: true });
      setInterval(() => { syncHistoryFromSheet_({ silent: true }); }, 8000);
updateLanguage();
    }

    function showPage(pageId) {
      const pages = ['home-page', 'name-page', 'stock-page', 'history-page', 'history-detail-page'];
      pages.forEach(p => document.getElementById(p).classList.add('hidden'));
      document.getElementById(pageId).classList.remove('hidden');
    }

    function goHome() { showPage('home-page'); }
    function goToNamePage() { showPage('name-page'); }

    function selectCategory(category) {
      currentCategory = category;

      const badge = document.getElementById('category-badge');
      const colors = { '‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏£‡∏∑‡∏≠': 'bg-orange-500', '‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ï‡∏≤‡∏°‡∏™‡∏±‡πà‡∏á': 'bg-emerald-500', '‡πÄ‡∏î‡πá‡∏Å‡πÄ‡∏™‡∏¥‡∏£‡πå‡∏ü': 'bg-blue-500' };
      const icons = { '‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏£‡∏∑‡∏≠': 'üö£', '‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ï‡∏≤‡∏°‡∏™‡∏±‡πà‡∏á': 'üç≥', '‡πÄ‡∏î‡πá‡∏Å‡πÄ‡∏™‡∏¥‡∏£‡πå‡∏ü': 'üßë‚Äçüç≥' };

      badge.className = `inline-flex items-center gap-2 px-4 py-2 rounded-full text-white text-sm font-medium mb-4 ${colors[category]}`;
      badge.innerHTML = `${icons[category]} ${category}`;

      document.getElementById('checker-name').value = '';
      showPage('name-page');
    }

    function startChecking() {
      const name = document.getElementById('checker-name').value.trim();
      if (!name) {
        document.getElementById('checker-name').classList.add('border-red-500');
        document.getElementById('checker-name').placeholder = translations[currentLanguage].enterName2;
        return;
      }
      document.getElementById('checker-name').classList.remove('border-red-500');

      checkerName = name;

      document.getElementById('display-checker-name').textContent = checkerName;
      const today = new Date();
      document.getElementById('display-date').textContent = formatDate(today, currentLanguage);

      const badge = document.getElementById('stock-category-badge');
      const colors = { '‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏£‡∏∑‡∏≠': 'bg-orange-500', '‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ï‡∏≤‡∏°‡∏™‡∏±‡πà‡∏á': 'bg-emerald-500', '‡πÄ‡∏î‡πá‡∏Å‡πÄ‡∏™‡∏¥‡∏£‡πå‡∏ü': 'bg-blue-500' };
      badge.className = `px-4 py-2 rounded-full text-white text-sm font-medium ${colors[currentCategory]}`;
      badge.textContent = currentCategory;

      renderStockTable();
      showPage('stock-page');
    }

    function renderStockTable() {
      const tbody = document.getElementById('stock-table-body');
      const items = stockItems[currentCategory] || [];

      let html = '';
      let index = 0;

      items.forEach((item) => {
        if (item.unit === '') {
          if (html !== '') html += '<tr><td colspan="4" class="h-1"></td></tr>';
          html += `
            <tr class="bg-gray-100">
              <td colspan="4" class="px-4 py-3 font-bold text-gray-700 text-base">${item.name}</td>
            </tr>
          `;
        } else {
          const draftQty = getDraftValue_(currentCategory, item.name, "quantity_raw");
          const draftNote = getDraftValue_(currentCategory, item.name, "note");

          html += `
            <tr class="slide-in hover:bg-orange-50 transition-colors" style="animation-delay: ${index * 30}ms">
              <td class="px-4 py-3">
                <span class="font-medium text-gray-800">${item.name}</span>
              </td>
              <td class="px-4 py-3">
                <input type="text"
                       inputmode="decimal"
                       autocomplete="off"
                       data-item="${item.name}"
                       data-field="quantity_raw"
                       placeholder="0"
                       value="${String(draftQty || "").replace(/"/g, "&quot;")}"
                       onkeydown="onQtyKeyDown_(event)"
                       oninput="sanitizeQuantityInput(this)"
                       class="w-full px-3 py-2 border-2 border-gray-200 rounded-lg text-center focus:border-orange-500 focus:outline-none transition-colors text-lg font-medium">
              </td>
              <td class="px-4 py-3 text-center text-gray-600 font-medium">${item.unit}</td>
              <td class="px-4 py-3">
                <input type="text"
                       data-item="${item.name}"
                       data-field="note"
                       placeholder="-"
                       value="${String(draftNote || "").replace(/"/g, "&quot;")}"
                       oninput="setDraftValue_(currentCategory, this.getAttribute('data-item'), 'note', this.value)"
                       class="w-full px-3 py-2 border-2 border-gray-200 rounded-lg focus:border-orange-500 focus:outline-none transition-colors">
              </td>
            </tr>
          `;
          index++;
        }
      });

      tbody.innerHTML = html;

      // validate existing draft
      document.querySelectorAll('input[data-field="quantity_raw"]').forEach(el => sanitizeQuantityInput(el));
    }

    async function saveStock() {
  const btn = document.getElementById('save-btn');
  const originalBtnHtml = btn.innerHTML;

  const disableBtn_ = () => {
    btn.disabled = true;
    btn.innerHTML = `
      <svg class="w-5 h-5 animate-spin" fill="none" viewBox="0 0 24 24">
        <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
        <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
      </svg>
      ${translations[currentLanguage].save}
    `;
  };

  const enableBtn_ = () => {
    btn.disabled = false;
    btn.innerHTML = originalBtnHtml;
  };

  const withTimeout_ = (promise, ms, label) =>
    Promise.race([
      promise,
      new Promise((_, reject) => setTimeout(() => reject(new Error(label || "TIMEOUT")), ms))
    ]);

  disableBtn_();

  try {
    const items = stockItems[currentCategory] || [];

    // validate quantities
    const invalidEls = [];
    const stockEntries = items.map(item => {
      // skip section headers
      if (!item.unit) return { __section: true, name: item.name, unit: item.unit };

      const qtyEl = document.querySelector(`input[data-item="${item.name}"][data-field="quantity_raw"]`);
      const noteEl = document.querySelector(`input[data-item="${item.name}"][data-field="note"]`);

      const raw = qtyEl ? qtyEl.value.trim() : "";
      const parsed = parseQuantity_(raw);
      if (qtyEl && !parsed.ok && raw !== "") invalidEls.push(qtyEl);

      return {
        name: item.name,
        unit: item.unit,
        quantity_raw: raw,
        quantity: parsed.ok ? parsed.value : 0,
        note: noteEl ? noteEl.value.trim() : ""
      };
    }).filter(x => !x.__section);

    if (invalidEls.length) {
      invalidEls.forEach(el => el.classList.add("border-red-500"));
      invalidEls[0].scrollIntoView({ behavior: "smooth", block: "center" });
      showToast("‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á (‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï 0-9 ‡πÅ‡∏•‡∏∞ . / + -)", "error");
      return;
    }

    if (allRecords.length >= 999) {
      showToast(translations[currentLanguage].fullLimit, 'error');
      return;
    }

    const nowIso = new Date().toISOString();
    const record = {
      id: Date.now().toString(),
      category: currentCategory,
      checker_name: checkerName,
      date: nowIso,
      items: JSON.stringify(stockEntries),
      created_at: nowIso
    };

    // 1) Save to Canva dataSdk (if available)
    let canvaOk = false;
    try {
      if (window.dataSdk && typeof window.dataSdk.create === "function") {
        const r = await withTimeout_(window.dataSdk.create(record), 15000, "DATA_SDK_TIMEOUT");
        canvaOk = !!(r && r.isOk);
      }
    } catch (e) {
      console.warn("dataSdk.create failed:", e);
    }

    // 2) Save to Google Sheet (if URL configured)
    let sheetOk = false;
    try {
      if (typeof GOOGLE_SHEET_WEBAPP_URL === "string" &&
          GOOGLE_SHEET_WEBAPP_URL.startsWith("https://script.google.com/macros/s/")) {

        // add backendId if canva returns one later; for now generate locally
        const payload = {
          __backendId: "web-" + Date.now().toString(),
          ...record
        };

        const resp = await withTimeout_(fetch(GOOGLE_SHEET_WEBAPP_URL, { method: "POST", mode: "no-cors", headers: { "Content-Type": "text/plain;charset=utf-8" }, body: JSON.stringify(payload) }), 15000, "SHEET_POST_TIMEOUT");

        // Apps Script ‡∏≠‡∏≤‡∏à‡∏Ñ‡∏∑‡∏ô 302/200/0 ‡πÉ‡∏ô‡∏ö‡∏≤‡∏á‡∏™‡∏†‡∏≤‡∏û‡πÅ‡∏ß‡∏î‡∏•‡πâ‡∏≠‡∏° ‚Üí ‡∏ñ‡∏∑‡∏≠‡∏ß‡πà‡∏≤‡∏ú‡πà‡∏≤‡∏ô‡∏ñ‡πâ‡∏≤ fetch ‡πÑ‡∏°‡πà throw
        sheetOk = !!resp;
      }
    } catch (e) {
      console.warn("sheet POST failed:", e);
    }

    if (canvaOk || sheetOk) {
      // clear draft for this category
      clearDraft_(currentCategory);
      showToast(translations[currentLanguage].saved, 'success');
      setTimeout(() => goHome(), 800);
    } else {
      showToast(translations[currentLanguage].error + " (‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à)", 'error');
    }
  } catch (err) {
    console.error(err);
    showToast(translations[currentLanguage].error, 'error');
  } finally {
    enableBtn_();
  }
}


    function showToast(message, type = 'success') {
      const toast = document.getElementById('toast');
      const msgEl = document.getElementById('toast-message');
      msgEl.textContent = message;

      toast.className = `fixed bottom-4 left-1/2 transform -translate-x-1/2 ${type === 'success' ? 'bg-green-500' : 'bg-red-500'} text-white px-6 py-3 rounded-xl shadow-lg flex items-center gap-2 transition-all duration-300`;

      setTimeout(() => { toast.classList.add('hidden'); }, 3000);
    }

    function showHistory() {
      showPage('history-page');
      syncHistoryFromSheet_({ silent: true });
      renderHistory();
    }
    function filterHistory() { renderHistory(); }

    function renderHistory() {
      const filterDate = document.getElementById('filter-date').value;
      const filterCategory = document.getElementById('filter-category').value;

      let filtered = [...(allRecords || [])];

      if (filterDate) {
        filtered = filtered.filter(r => {
          const recordDate = new Date(r.date).toISOString().split('T')[0];
          return recordDate === filterDate;
        });
      }

      if (filterCategory) filtered = filtered.filter(r => r.category === filterCategory);

      filtered.sort((a, b) => new Date(b.date) - new Date(a.date));

      const listEl = document.getElementById('history-list');
      const noHistory = document.getElementById('no-history');

      if (filtered.length === 0) {
        listEl.innerHTML = '';
        noHistory.classList.remove('hidden');
        return;
      }

      noHistory.classList.add('hidden');

      const colors = { '‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏£‡∏∑‡∏≠': 'from-orange-500 to-orange-600', '‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ï‡∏≤‡∏°‡∏™‡∏±‡πà‡∏á': 'from-emerald-500 to-emerald-600', '‡πÄ‡∏î‡πá‡∏Å‡πÄ‡∏™‡∏¥‡∏£‡πå‡∏ü': 'from-blue-500 to-blue-600' };
      const icons = { '‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏£‡∏∑‡∏≠': 'üö£', '‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ï‡∏≤‡∏°‡∏™‡∏±‡πà‡∏á': 'üç≥', '‡πÄ‡∏î‡πá‡∏Å‡πÄ‡∏™‡∏¥‡∏£‡πå‡∏ü': 'üßë‚Äçüç≥' };

      listEl.innerHTML = filtered.map(record => `
        <div onclick="showHistoryDetail('${record.__backendId || record.id}')" class="bg-white rounded-xl p-4 shadow-md hover:shadow-lg transition-all cursor-pointer">
          <div class="flex items-center gap-4">
            <div class="w-12 h-12 bg-gradient-to-br ${colors[record.category]} rounded-xl flex items-center justify-center text-2xl">
              ${icons[record.category]}
            </div>
            <div class="flex-1">
              <p class="font-semibold text-gray-800">${record.category}</p>
              <p class="text-sm text-gray-500">${translations[currentLanguage].staffChecker} ${record.checker_name}</p>
              <p class="text-sm text-gray-400">${formatFullDate(record.date, currentLanguage)}</p>
            </div>
            <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
            </svg>
          </div>
        </div>
      `).join('');
    }

    function showHistoryDetail(idOrBackendId) {
      const record = (allRecords || []).find(r => (r.__backendId || r.id) === idOrBackendId);
      if (!record) return;

      const items = JSON.parse(record.items || '[]');
      const previousRecord = getPreviousRecord(record.category);
      const t = translations[currentLanguage];

      const colors = { '‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏£‡∏∑‡∏≠': 'from-orange-500 to-orange-600', '‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ï‡∏≤‡∏°‡∏™‡∏±‡πà‡∏á': 'from-emerald-500 to-emerald-600', '‡πÄ‡∏î‡πá‡∏Å‡πÄ‡∏™‡∏¥‡∏£‡πå‡∏ü': 'from-blue-500 to-blue-600' };

      const content = document.getElementById('history-detail-content');
      content.innerHTML = `
        <div class="bg-gradient-to-r ${colors[record.category]} p-4 text-white">
          <h3 class="text-xl font-bold mb-2">${record.category}</h3>
          <p class="text-sm opacity-90">${t.staffChecker} <span class="font-semibold">${record.checker_name}</span></p>
          <p class="text-sm opacity-90">${t.date} <span class="font-semibold">${formatFullDate(record.date, currentLanguage)}</span></p>
        </div>
        <div class="overflow-x-auto">
          <table class="w-full">
            <thead class="bg-gray-50">
              <tr>
                <th class="px-4 py-3 text-left text-sm font-semibold text-gray-700">${t.item}</th>
                <th class="px-4 py-3 text-center text-sm font-semibold text-gray-700">${t.quantity}</th>
                <th class="px-4 py-3 text-center text-sm font-semibold text-gray-700">${t.unit}</th>
                ${previousRecord ? `<th class="px-4 py-3 text-center text-sm font-semibold text-gray-700">${t.compared}<br><span class="text-xs font-normal">${formatDate(previousRecord.date, currentLanguage)}</span></th>
                <th class="px-4 py-3 text-center text-sm font-semibold text-gray-700">‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á</th>` : ''}
                <th class="px-4 py-3 text-left text-sm font-semibold text-gray-700">${t.note}</th>
              </tr>
            </thead>
            <tbody class="divide-y divide-gray-100">
              ${items.map(item => {
                let comparison = '';
                let trend = '';
                if (previousRecord) {
                  const prevItem = getItemFromRecord(previousRecord, item.name);
                  if (prevItem) {
                    const diff = (item.quantity || 0) - (prevItem.quantity || 0);
                    if (diff > 0) trend = `<span class="trend-up">‚¨Ü +${diff.toFixed(1)}</span>`;
                    else if (diff < 0) trend = `<span class="trend-down">‚¨á ${diff.toFixed(1)}</span>`;
                    else trend = `<span class="trend-neutral">- ${t.noChange}</span>`;
                    comparison = `<td class="px-4 py-3 text-center font-semibold text-gray-600">${prevItem.quantity}</td>
                                  <td class="px-4 py-3 text-center font-semibold">${trend}</td>`;
                  } else {
                    comparison = `<td class="px-4 py-3 text-center text-gray-400">-</td>
                                  <td class="px-4 py-3 text-center"><span class="text-xs text-blue-600">${t.noPrevious}</span></td>`;
                  }
                }

                return `
                  <tr class="hover:bg-gray-50">
                    <td class="px-4 py-3 font-medium text-gray-800">${item.name}</td>
                    <td class="px-4 py-3 text-center font-semibold ${(item.quantity || 0) > 0 ? 'text-green-600' : 'text-red-500'}">${(item.quantity ?? 0)}</td>
                    <td class="px-4 py-3 text-center text-gray-600">${item.unit}</td>
                    ${comparison}
                    <td class="px-4 py-3 text-gray-500">${item.note || '-'}</td>
                  </tr>
                `;
              }).join('')}
            </tbody>
          </table>
        </div>
      `;

      showPage('history-detail-page');
    }

    init();
  </script>

  <!-- original cloudflare snippet preserved -->
  <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9cc1f7c8006f45ab',t:'MTc3MDc5MzIxMi4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script>
</body>
</html>